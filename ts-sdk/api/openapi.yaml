openapi: 3.1.0
info:
  title: DefiTuna API
  description: Public API for DefiTuna protocol
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  version: 1.0.0
servers:
- url: /api
  description: API base path
paths:
  /v1/lp-spot-leaderboard:
    get:
      tags:
      - Leaderboards
      summary: Request LP and Spot leaderboard
      operationId: get_lp_spot_leaderboard
      parameters:
      - name: period
        in: query
        description: 'Period of time to consider (default: week)'
        required: false
        schema:
          $ref: '#/components/schemas/LeaderboardPeriod'
      - name: sort_by
        in: query
        description: 'Sort by profit or percent (default: percent)'
        required: false
        schema:
          $ref: '#/components/schemas/LeaderboardSortBy'
      - name: search
        in: query
        description: 'Search by authority address (default: None)'
        required: false
        schema:
          type: string
      - name: page
        in: query
        description: 'Page in the leaderboard (default: 1)'
        required: false
        schema:
          type: integer
          minimum: 0
      - name: page_size
        in: query
        description: 'Page size of the leaderboard (default: 10)'
        required: false
        schema:
          type: integer
          minimum: 0
      responses:
        '200':
          description: Leaderboard page
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponseWithMeta_Vec_LeaderboardItemDto_PaginationMeta'
        '400':
          description: Bad request
        '500':
          description: Internal error
  /v1/markets:
    get:
      tags:
      - Markets
      summary: Request all markets
      operationId: get_markets
      responses:
        '200':
          description: List of markets
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_MarketDto'
        '500':
          description: Internal error
  /v1/markets/{market_address}:
    get:
      tags:
      - Markets
      summary: Request market data
      operationId: get_market
      parameters:
      - name: market_address
        in: path
        description: Market address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Market data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_MarketDto'
        '400':
          description: Invalid market address
        '404':
          description: Market not found
        '500':
          description: Internal error
  /v1/mints:
    get:
      tags:
      - Mints
      summary: Request all mints
      operationId: get_mints
      responses:
        '200':
          description: List of mints
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_MintDto'
        '500':
          description: Internal error
  /v1/mints/{mint_address}:
    get:
      tags:
      - Mints
      summary: Request mint data
      operationId: get_mint
      parameters:
      - name: mint_address
        in: path
        description: Mint address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Mint data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_MintDto'
        '400':
          description: Invalid mint address
        '404':
          description: Mint not found
        '500':
          description: Internal error
  /v1/oracle-prices:
    get:
      tags:
      - OraclePrices
      summary: Request all Oracle prices
      operationId: get_oracle_prices
      responses:
        '200':
          description: List of Oracle prices
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_OraclePriceDto'
        '500':
          description: Internal error
  /v1/oracle-prices/{mint_address}:
    get:
      tags:
      - OraclePrices
      summary: Request Oracle price for mint
      operationId: get_oracle_price
      parameters:
      - name: mint_address
        in: path
        description: Mint address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Oracle price for mint
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_OraclePriceDto'
        '400':
          description: Invalid mint address
        '404':
          description: Oracle price not found
        '500':
          description: Internal error
  /v1/pools:
    get:
      tags:
      - Pools
      summary: Request all pools
      operationId: get_pools
      parameters:
      - name: provider
        in: query
        required: false
        schema:
          type: string
      responses:
        '200':
          description: List of pools
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_PoolDto'
        '500':
          description: Internal error
  /v1/pools/{pool_address}:
    get:
      tags:
      - Pools
      summary: Request pool data
      operationId: get_pool
      parameters:
      - name: pool_address
        in: path
        description: Pool address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Pool data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_PoolDto'
        '400':
          description: Invalid pool address
        '404':
          description: Pool not found
        '500':
          description: Internal error
  /v1/pools/{pool_address}/candles:
    get:
      tags:
      - Pools
      summary: Request pool candles
      operationId: get_pool_candles
      parameters:
      - name: pool_address
        in: path
        description: Pool address (base58)
        required: true
        schema:
          type: string
      - name: from
        in: query
        required: true
        schema:
          type: string
          format: date-time
      - name: to
        in: query
        required: true
        schema:
          type: string
          format: date-time
      - name: candles
        in: query
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: interval
        in: query
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Pool order book
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_PoolPriceCandleDto'
        '400':
          description: Invalid pool address or query params
        '500':
          description: Internal error
  /v1/pools/{pool_address}/order-book:
    get:
      tags:
      - Pools
      summary: Request pool order book
      operationId: get_pool_order_book
      parameters:
      - name: pool_address
        in: path
        description: Pool address (base58)
        required: true
        schema:
          type: string
      - name: price_step
        in: query
        required: true
        schema:
          type: number
          format: double
      - name: inverted
        in: query
        required: false
        schema:
          type: boolean
      responses:
        '200':
          description: Pool order book
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_OrderBookDto'
        '400':
          description: Invalid pool address
        '404':
          description: Pool not found
        '500':
          description: Internal error
  /v1/pools/{pool_address}/swaps:
    get:
      tags:
      - Pools
      summary: Request pool swaps
      operationId: get_pool_swaps
      parameters:
      - name: pool_address
        in: path
        description: Pool address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Pool swaps
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_PoolSwapDto'
        '400':
          description: Invalid pool address
        '404':
          description: Pool not found
        '500':
          description: Internal error
  /v1/pools/{pool_address}/ticks:
    get:
      tags:
      - Pools
      summary: Request pool ticks
      operationId: get_pool_ticks
      parameters:
      - name: pool_address
        in: path
        description: Pool address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Pool ticks
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_PoolTicksDto'
        '400':
          description: Invalid pool address
        '404':
          description: Pool not found
        '500':
          description: Internal error
  /v1/quotes/close-spot-position:
    get:
      tags:
      - Quotes
      summary: Request quote to close spot position
      operationId: get_close_spot_position_quote
      parameters:
      - name: market
        in: query
        required: true
        schema:
          $ref: '#/components/schemas/PubkeyDto'
      - name: decrease_percent
        in: query
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: collateral_token
        in: query
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: slippage_tolerance
        in: query
        required: false
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: position_token
        in: query
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: position_amount
        in: query
        required: true
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: position_debt
        in: query
        required: true
        schema:
          type: integer
          format: int64
          minimum: 0
      responses:
        '200':
          description: Close spot position quote
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_CloseSpotPositionQuoteDto'
        '400':
          description: Bad request
  /v1/quotes/decrease-spot-position:
    get:
      tags:
      - Quotes
      summary: Request quote to decrease spot position
      operationId: get_decrease_spot_position_quote
      parameters:
      - name: market
        in: query
        required: true
        schema:
          $ref: '#/components/schemas/PubkeyDto'
      - name: decrease_amount
        in: query
        required: true
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: collateral_token
        in: query
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: leverage
        in: query
        required: true
        schema:
          type: number
          format: double
      - name: reduce_only
        in: query
        required: false
        schema:
          type: boolean
      - name: slippage_tolerance
        in: query
        required: false
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: position_token
        in: query
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: position_amount
        in: query
        required: true
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: position_debt
        in: query
        required: true
        schema:
          type: integer
          format: int64
          minimum: 0
      responses:
        '200':
          description: Decrease spot position quote
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_DecreaseSpotPositionQuoteDto'
        '400':
          description: Bad request
  /v1/quotes/increase-spot-position:
    get:
      tags:
      - Quotes
      summary: Request quote to increase spot position
      operationId: get_increase_spot_position_quote
      parameters:
      - name: market
        in: query
        required: true
        schema:
          $ref: '#/components/schemas/PubkeyDto'
      - name: increase_amount
        in: query
        required: true
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: collateral_token
        in: query
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: position_token
        in: query
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: leverage
        in: query
        required: true
        schema:
          type: number
          format: double
      - name: slippage_tolerance
        in: query
        required: false
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: position_amount
        in: query
        required: false
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: position_debt
        in: query
        required: false
        schema:
          type: integer
          format: int64
          minimum: 0
      responses:
        '200':
          description: Increase spot position quote
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_IncreaseSpotPositionQuoteDto'
        '400':
          description: Bad request
  /v1/quotes/limit-order-by-input:
    get:
      tags:
      - Quotes
      summary: Request limit order quote by input amount
      operationId: get_limit_order_quote_by_input
      parameters:
      - name: pool
        in: query
        required: true
        schema:
          $ref: '#/components/schemas/PubkeyDto'
      - name: amount_in
        in: query
        required: true
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: a_to_b
        in: query
        required: true
        schema:
          type: boolean
      - name: tick_index
        in: query
        required: true
        schema:
          type: integer
          format: int32
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                required:
                - data
                properties:
                  data:
                    $ref: '#/components/schemas/LimitOrderQuoteByInputDto'
        '400':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestErrorCodeErrorBody'
        '422':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorCodeErrorBody'
        '500':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalErrorCodeErrorBody'
  /v1/quotes/limit-order-by-output:
    get:
      tags:
      - Quotes
      summary: Request limit order quote by output amount
      operationId: get_limit_order_quote_by_output
      parameters:
      - name: pool
        in: query
        required: true
        schema:
          $ref: '#/components/schemas/PubkeyDto'
      - name: amount_out
        in: query
        required: true
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: a_to_b
        in: query
        required: true
        schema:
          type: boolean
      - name: tick_index
        in: query
        required: true
        schema:
          type: integer
          format: int32
      responses:
        '200':
          description: Limit order quote
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_LimitOrderQuoteByOutputDto'
        '400':
          description: Bad request
  /v1/quotes/swap-by-input:
    get:
      tags:
      - Quotes
      summary: Request swap quote by input amount
      operationId: get_swap_quote_by_input
      parameters:
      - name: pool
        in: query
        required: true
        schema:
          $ref: '#/components/schemas/PubkeyDto'
      - name: amount_in
        in: query
        required: true
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: a_to_b
        in: query
        required: true
        schema:
          type: boolean
      - name: slippage_tolerance
        in: query
        required: false
        schema:
          type: integer
          format: int32
          minimum: 0
      responses:
        '200':
          description: Swap quote
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_SwapQuoteByInputDto'
        '400':
          description: Bad request
  /v1/quotes/swap-by-output:
    get:
      tags:
      - Quotes
      summary: Request swap quote by output amount
      operationId: get_swap_quote_by_output
      parameters:
      - name: pool
        in: query
        required: true
        schema:
          $ref: '#/components/schemas/PubkeyDto'
      - name: amount_out
        in: query
        required: true
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: a_to_b
        in: query
        required: true
        schema:
          type: boolean
      - name: slippage_tolerance
        in: query
        required: false
        schema:
          type: integer
          format: int32
          minimum: 0
      responses:
        '200':
          description: Swap quote
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_SwapQuoteByOutputDto'
        '400':
          description: Bad request
  /v1/quotes/tradable-amount:
    get:
      tags:
      - Quotes
      summary: Request tradeable amount
      operationId: get_tradable_amount
      parameters:
      - name: market
        in: query
        required: true
        schema:
          $ref: '#/components/schemas/PubkeyDto'
      - name: collateral_token
        in: query
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: available_balance
        in: query
        required: true
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: leverage
        in: query
        required: true
        schema:
          type: number
          format: double
      - name: position_token
        in: query
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: position_amount
        in: query
        required: true
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: increase
        in: query
        required: true
        schema:
          type: boolean
      responses:
        '200':
          description: Tradeable amount
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_TradableAmountDto'
        '400':
          description: Bad request
  /v1/staking/leaderboard:
    get:
      tags:
      - Leaderboards
      summary: Request staking leaderboard
      operationId: get_staking_leaderboard
      parameters:
      - name: page
        in: query
        required: false
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: page_size
        in: query
        required: false
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: search
        in: query
        required: false
        schema:
          type: string
      responses:
        '200':
          description: Leaderboard page
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponseWithMeta_Vec_StakingLeaderboardPositionDto_PaginationMeta'
        '400':
          description: Bad request
        '500':
          description: Internal error
  /v1/staking/treasury:
    get:
      tags:
      - StakingPositions
      summary: Request treasury data
      operationId: get_staking_treasury
      responses:
        '200':
          description: Treasury data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_TreasuryDto'
        '500':
          description: Internal error
  /v1/stats/fees:
    get:
      tags:
      - Stats
      summary: Request historical aggregated data about collected & paid fees
      operationId: get_fees_stats
      parameters:
      - name: from
        in: query
        required: true
        schema:
          type: string
          format: date-time
      - name: to
        in: query
        required: true
        schema:
          type: string
          format: date-time
      - name: interval
        in: query
        required: false
        schema:
          type: string
      responses:
        '200':
          description: Fees daily stats
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_FeesStatsGroupDto'
        '400':
          description: Bad request
        '500':
          description: Internal server error
  /v1/stats/fusion-fees:
    get:
      tags:
      - Stats
      summary: Request historical aggregated data about Fusion collected & paid fees
      operationId: get_fusion_fees_stats
      parameters:
      - name: from
        in: query
        required: true
        schema:
          type: string
          format: date-time
      - name: to
        in: query
        required: true
        schema:
          type: string
          format: date-time
      - name: interval
        in: query
        required: false
        schema:
          type: string
      responses:
        '200':
          description: Fees daily stats
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_FusionFeesStatsGroupDto'
        '400':
          description: Bad request
        '500':
          description: Internal server error
  /v1/stats/positions:
    get:
      tags:
      - Stats
      summary: Request historical aggregated data about LP positions
      operationId: get_positions_stats
      parameters:
      - name: from
        in: query
        required: true
        schema:
          type: string
          format: date-time
      - name: to
        in: query
        required: true
        schema:
          type: string
          format: date-time
      - name: _unused
        in: query
        description: |-
          This is a bugfix for Orval code generation.
          When handling query parameters, Orval generates a function where all variables are checked uniformly:
          values of type `Date` are converted using `toISOString()`, and everything else is converted using `toString()`.
        required: false
        schema:
          type: string
      responses:
        '200':
          description: LP positions daily stats
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TunaLpPositionsStats'
        '500':
          description: Internal server error
  /v1/stats/positions/total:
    get:
      tags:
      - Stats
      summary: Request total number of LP positions
      operationId: get_positions_total
      responses:
        '200':
          description: LP positions total count
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_i64'
        '500':
          description: Internal server error
  /v1/stats/staking/revenue:
    get:
      tags:
      - Stats
      summary: Request daily staking revenue stats
      operationId: get_staking_revenue_stats
      parameters:
      - name: from
        in: query
        required: true
        schema:
          type: string
      - name: to
        in: query
        required: true
        schema:
          type: string
      responses:
        '200':
          description: LP positions total count
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_StakingDepositsStatsDto'
        '400':
          description: Bad request
        '500':
          description: Internal server error
  /v1/streams/sse:
    get:
      tags:
      - SSE
      summary: Subscribe for SSE stream
      operationId: sse
      responses:
        '200':
          description: Server-Sent Events stream
          content:
            text/event-stream:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_SseResponse'
        '500':
          description: Internal error
  /v1/streams/{stream_id}/subscription:
    put:
      tags:
      - SSE
      summary: Update SSE stream subscription
      operationId: update_stream_subscription
      parameters:
      - name: stream_id
        in: path
        description: Stream id
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SubscriptionOptions'
        required: true
      responses:
        '200':
          description: Subscription update successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_HttpStatusData'
        '400':
          description: Bad request
        '500':
          description: Internal error
  /v1/users/{user_address}/lending-positions:
    get:
      tags:
      - LendingPositions
      summary: Request all user lending positions
      operationId: get_lending_positions
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: List of lending positions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_LendingPositionDto'
        '400':
          description: Invalid user address
        '500':
          description: Internal error
  /v1/users/{user_address}/lending-positions/{lending_position_address}:
    get:
      tags:
      - LendingPositions
      summary: Request lending position data by position address
      operationId: get_lending_position
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      - name: lending_position_address
        in: path
        description: Lending position address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Lending position found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Option_LendingPositionDto'
        '400':
          description: Invalid position address
        '500':
          description: Internal error
  /v1/users/{user_address}/limit-orders:
    get:
      tags:
      - LimitOrders
      summary: Request all user limit orders
      operationId: get_limit_orders
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      - name: pool
        in: query
        description: List of pool public keys to filter by
        required: false
        schema:
          type: array
          items:
            type: string
          uniqueItems: true
        style: form
        explode: false
      - name: status
        in: query
        description: List of limit order statuses to filter by
        required: false
        schema:
          type: array
          items:
            $ref: '#/components/schemas/LimitOrderStatus'
          uniqueItems: true
        style: form
        explode: false
      - name: opened_at_from
        in: query
        description: Filter limit orders from timestamp (Unix timestamp format)
        required: false
        schema:
          type: integer
          format: int64
      - name: opened_at_to
        in: query
        description: Filter limit orders to timestamp (Unix timestamp format)
        required: false
        schema:
          type: integer
          format: int64
      - name: cursor
        in: query
        description: Cursor for pagination (id field)
        required: false
        schema:
          type: string
      - name: desc
        in: query
        description: 'Descending order flag (default: true)'
        required: false
        schema:
          type: boolean
      - name: limit
        in: query
        description: 'Limit number of returned limit orders (default: 100, max: 500)'
        required: false
        schema:
          type: integer
          minimum: 0
      responses:
        '200':
          description: List of lending positions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_LimitOrderDto'
        '400':
          description: Invalid user address
        '500':
          description: Internal error
  /v1/users/{user_address}/limit-orders/{limit_order_address}:
    get:
      tags:
      - LimitOrders
      summary: Request limit order data by position address
      operationId: get_limit_order
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          $ref: '#/components/schemas/PubkeyDto'
      - name: limit_order_address
        in: path
        description: Limit order address (base58)
        required: true
        schema:
          $ref: '#/components/schemas/PubkeyDto'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                required:
                - data
                properties:
                  data:
                    $ref: '#/components/schemas/LimitOrderDto'
        '400':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestErrorCodeErrorBody'
        '404':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetLimitOrderError404Error'
        '422':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorCodeErrorBody'
        '500':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetLimitOrderError500Error'
  /v1/users/{user_address}/lp-positions-history:
    get:
      tags:
      - LpPositions
      summary: Request historical LP positions data
      operationId: get_lp_positions
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      - name: liquidity_pool
        in: query
        description: Filter by pool
        required: false
        schema:
          type: array
          items:
            type: string
          uniqueItems: true
        style: form
        explode: false
      - name: state
        in: query
        description: Filter by state
        required: false
        schema:
          type: array
          items:
            $ref: '#/components/schemas/TunaPositionDtoState'
          uniqueItems: true
        style: form
        explode: false
      - name: after_position
        in: query
        description: Address of the position after which to start fetching results
        required: false
        schema:
          type: string
      - name: limit
        in: query
        description: 'Limit the number of results returned (default: 1000, max: 1000)'
        required: false
        schema:
          type: integer
          minimum: 0
      responses:
        '200':
          description: LP position found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_TunaLpPositionDto'
        '400':
          description: Invalid position address or query parameters
        '500':
          description: Internal error
  /v1/users/{user_address}/lp-positions-history/{position_address}/actions:
    get:
      tags:
      - LpPositions
      summary: Request LP position actions history
      operationId: get_lp_position_actions
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      - name: position_address
        in: path
        description: LP position address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: LP position found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_TunaLpPositionActionDto'
        '400':
          description: Invalid user or position address
        '500':
          description: Internal error
  /v1/users/{user_address}/order-history:
    get:
      tags:
      - OrderHistory
      summary: Request user order history
      operationId: get_order_history
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      - name: pool
        in: query
        required: false
        schema:
          type: array
          items:
            type: string
          uniqueItems: true
        style: form
        explode: false
      - name: order_type
        in: query
        required: false
        schema:
          type: array
          items:
            $ref: '#/components/schemas/OrderHistoryType'
          uniqueItems: true
        style: form
        explode: false
      - name: ui_direction
        in: query
        required: false
        schema:
          type: array
          items:
            $ref: '#/components/schemas/OrderHistoryUIDirection'
          uniqueItems: true
        style: form
        explode: false
      - name: cursor
        in: query
        description: |-
          Cursor is the pagination point to start fetching from.

            - Descending (asc = false): Returns records with ts <= cursor (i.e. earlier or at).
            - Ascending  (asc = true):  Returns records with ts >= cursor (i.e. later or at).
        required: false
        schema:
          type: string
          format: uuid
      - name: until
        in: query
        description: |-
          "Until" is an optional range limit to trim the results.

            - Descending: Only includes records with ts >= until (i.e. not too old).
            - Ascending:  Only includes records with ts <= until (i.e. not too new).
        required: false
        schema:
          type: string
          format: uuid
      - name: desc
        in: query
        description: |-
          Desc defines the sort direction of results.

            - If false:  Ascending (oldest → newest).
            - If true:   Descending (newest → oldest, default).
        required: false
        schema:
          type: boolean
      - name: limit
        in: query
        description: 'Limit defines the maximum number of results to return (default: 100, max: 500)'
        required: false
        schema:
          type: integer
          minimum: 0
      responses:
        '200':
          description: List of order history entries
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_OrderHistoryEntryDto'
        '400':
          description: Invalid user address
        '500':
          description: Internal error
  /v1/users/{user_address}/spot-positions:
    get:
      tags:
      - SpotPositions
      summary: Request all user spot positions
      operationId: get_spot_positions
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: List of spot positions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_TunaSpotPositionDto'
        '400':
          description: Invalid user address
        '500':
          description: Internal error
  /v1/users/{user_address}/spot-positions/{spot_position_address}:
    get:
      tags:
      - SpotPositions
      summary: Request spot position data by position address
      operationId: get_spot_position
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      - name: spot_position_address
        in: path
        description: Spot position address (base58)
        required: true
        schema:
          type: string
      - name: tuna_spot_position_address
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Spot position found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_TunaSpotPositionDto'
        '400':
          description: Invalid position address
        '404':
          description: Position not found
        '500':
          description: Internal error
  /v1/users/{user_address}/staking-position:
    get:
      tags:
      - StakingPositions
      summary: Request user staking position
      operationId: get_user_staking_position
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Staking position found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_StakingPositionDto'
        '400':
          description: Invalid user address
        '500':
          description: Internal error
  /v1/users/{user_address}/staking-position/history:
    get:
      tags:
      - StakingPositions
      summary: Request user staking position history
      operationId: get_user_staking_position_history
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Staking position found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_StakingPositionActionDto'
        '400':
          description: Invalid user address
        '500':
          description: Internal error
  /v1/users/{user_address}/trade-history:
    get:
      tags:
      - TradeHistory
      summary: Request user trade history
      operationId: get_trade_history
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      - name: pool
        in: query
        required: false
        schema:
          type: array
          items:
            type: string
          uniqueItems: true
        style: form
        explode: false
      - name: action
        in: query
        required: false
        schema:
          type: array
          items:
            $ref: '#/components/schemas/TradeHistoryAction'
          uniqueItems: true
        style: form
        explode: false
      - name: ui_direction
        in: query
        required: false
        schema:
          type: array
          items:
            $ref: '#/components/schemas/TradeHistoryUIDirection'
          uniqueItems: true
        style: form
        explode: false
      - name: cursor
        in: query
        description: |-
          Cursor is the pagination point to start fetching from.

            - Descending (asc = false): Returns records with ts <= cursor (i.e. earlier or at).
            - Ascending  (asc = true):  Returns records with ts >= cursor (i.e. later or at).
        required: false
        schema:
          type: string
          format: uuid
      - name: until
        in: query
        description: |-
          "Until" is an optional range limit to trim the results.

            - Descending: Only includes records with ts >= until (i.e. not too old).
            - Ascending:  Only includes records with ts <= until (i.e. not too new).
        required: false
        schema:
          type: string
          format: uuid
      - name: desc
        in: query
        description: |-
          Desc defines the sort direction of results.

            - If false:  Ascending (oldest → newest).
            - If true:   Descending (newest → oldest, default).
        required: false
        schema:
          type: boolean
      - name: limit
        in: query
        description: 'Limit defines the maximum number of results to return (default: 100, max: 500)'
        required: false
        schema:
          type: integer
          minimum: 0
      responses:
        '200':
          description: List of trade history entries
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_TradeHistoryEntryDto'
        '400':
          description: Invalid user address
        '500':
          description: Internal error
  /v1/users/{user_address}/tuna-positions:
    get:
      tags:
      - LpPositions
      summary: Request all user LP positions
      operationId: get_tuna_positions
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: List of LP positions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_TunaPositionDto'
        '400':
          description: Invalid user address
        '500':
          description: Internal error
  /v1/users/{user_address}/tuna-positions/{position_address}:
    get:
      tags:
      - LpPositions
      summary: Request LP position data by position address
      operationId: get_tuna_position
      parameters:
      - name: user_address
        in: path
        description: Authority address (base58)
        required: true
        schema:
          type: string
      - name: position_address
        in: path
        description: LP position address (base58)
        required: true
        schema:
          type: string
      - name: tuna_position_address
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: LP position found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Option_TunaPositionDto'
        '400':
          description: Invalid position address
        '500':
          description: Internal error
  /v1/vaults:
    get:
      tags:
      - Vaults
      summary: Request all vaults data
      operationId: get_vaults
      responses:
        '200':
          description: List of vaults
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_VaultDto'
        '500':
          description: Internal error
  /v1/vaults/{vault_address}:
    get:
      tags:
      - Vaults
      summary: Request vault data
      operationId: get_vault
      parameters:
      - name: vault_address
        in: path
        description: Vault address (base58)
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Vault data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_VaultDto'
        '400':
          description: Invalid vault address
        '404':
          description: Vault not found
        '500':
          description: Internal error
  /v1/vaults/{vault_address}/history:
    get:
      tags:
      - Vaults
      summary: Request vault daily stats
      operationId: get_vault_history
      parameters:
      - name: vault_address
        in: path
        description: Vault address (base58)
        required: true
        schema:
          type: string
      - name: from
        in: query
        required: true
        schema:
          type: string
      - name: to
        in: query
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Vault stats
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericHttpResponse_Vec_VaultStatsDto'
        '400':
          description: Invalid vault address
        '404':
          description: Vault not found
        '500':
          description: Internal error
components:
  schemas:
    BadRequestErrorCodeErrorBody:
      type: object
      required:
      - code
      properties:
        code:
          type: string
          enum:
          - invalid_path
          - invalid_query
          - invalid_body
    CloseSpotPositionQuoteDto:
      type: object
      required:
      - decrease_percent
      - required_swap_amount
      - estimated_withdrawn_collateral
      - price_impact
      properties:
        decrease_percent:
          type: number
          format: double
          description: Confirmed position decrease percentage (100% = 1.0)
        estimated_withdrawn_collateral:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        price_impact:
          type: number
          format: double
          description: Price impact in percents (100% = 1.0)
        required_swap_amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
    DecreaseSpotPositionQuoteDto:
      type: object
      required:
      - decrease_percent
      - required_swap_amount
      - estimated_amount
      - estimated_withdrawn_collateral
      - price_impact
      - liquidation_price
      properties:
        decrease_percent:
          type: number
          format: double
          description: Position decrease percentage
        estimated_amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        estimated_withdrawn_collateral:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        liquidation_price:
          type: number
          format: double
          description: Liquidation price
        price_impact:
          type: number
          format: double
          description: Price impact in percents (100% = 1.0)
        required_swap_amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
    FeeAmountWithUsd:
      type: object
      required:
      - amount
      - usd
      properties:
        amount:
          type: string
          format: int64
          description: Signed 64-bit integer encoded as a decimal string
        usd:
          type: number
          format: double
    FeesStatsGroupDto:
      type: object
      required:
      - time
      - add_liquidity_fees
      - limit_order_fees
      - yield_compounding_fees
      - liquidation_fees
      - rebalance_fees
      - total_liquidations_network_fees
      - total_rebalance_network_fees
      - total_limit_orders_network_fees
      - total_yield_compounding_network_fees
      - failed_network_fees
      - processed_network_fees
      - total_collected_fees
      - total_fusion_fees
      - total_network_fees
      - jito_liquidation_fees
      - jito_rebalance_fees
      - jito_limit_order_fees
      - jito_yield_compounding_fees
      - running_add_liquidity_fees
      - running_limit_order_fees
      - running_yield_compounding_fees
      - running_liquidation_fees
      - running_rebalance_fees
      - running_total_liquidations_network_fees
      - running_total_limit_orders_network_fees
      - running_total_yield_compounding_network_fees
      - running_failed_network_fees
      - running_processed_network_fees
      - running_jito_liquidation_fees
      - running_jito_rebalance_fees
      - running_jito_limit_order_fees
      - running_jito_yield_compounding_fees
      - running_total_collected_fees
      - running_total_fusion_fees
      - running_total_network_fees
      properties:
        add_liquidity_fees:
          type: number
          format: double
        failed_network_fees:
          type: number
          format: double
        jito_limit_order_fees:
          type: number
          format: double
        jito_liquidation_fees:
          type: number
          format: double
        jito_rebalance_fees:
          type: number
          format: double
        jito_yield_compounding_fees:
          type: number
          format: double
        limit_order_fees:
          type: number
          format: double
        liquidation_fees:
          type: number
          format: double
        processed_network_fees:
          type: number
          format: double
        rebalance_fees:
          type: number
          format: double
        running_add_liquidity_fees:
          type: number
          format: double
        running_failed_network_fees:
          type: number
          format: double
        running_jito_limit_order_fees:
          type: number
          format: double
        running_jito_liquidation_fees:
          type: number
          format: double
        running_jito_rebalance_fees:
          type: number
          format: double
        running_jito_yield_compounding_fees:
          type: number
          format: double
        running_limit_order_fees:
          type: number
          format: double
        running_liquidation_fees:
          type: number
          format: double
        running_processed_network_fees:
          type: number
          format: double
        running_rebalance_fees:
          type: number
          format: double
        running_total_collected_fees:
          type: number
          format: double
        running_total_fusion_fees:
          type: number
          format: double
        running_total_limit_orders_network_fees:
          type: number
          format: double
        running_total_liquidations_network_fees:
          type: number
          format: double
        running_total_network_fees:
          type: number
          format: double
        running_total_yield_compounding_network_fees:
          type: number
          format: double
        running_yield_compounding_fees:
          type: number
          format: double
        time:
          type: string
          format: date-time
        total_collected_fees:
          type: number
          format: double
        total_fusion_fees:
          type: number
          format: double
        total_limit_orders_network_fees:
          type: number
          format: double
        total_liquidations_network_fees:
          type: number
          format: double
        total_network_fees:
          type: number
          format: double
        total_rebalance_network_fees:
          type: number
          format: double
        total_yield_compounding_network_fees:
          type: number
          format: double
        yield_compounding_fees:
          type: number
          format: double
    FieldError:
      type: object
      required:
      - field
      - message
      properties:
        field:
          type: string
          description: Field name in request.
        message:
          type: string
          description: Validation error message.
    FusionFeesStatsGroupDto:
      type: object
      required:
      - time
      - pool
      - total_collected_fees
      - running_total_collected_fees
      properties:
        pool:
          type: string
          format: pubkey
          description: Solana public key (base58)
        running_total_collected_fees:
          type: number
          format: double
        time:
          type: string
          format: date-time
        total_collected_fees:
          type: number
          format: double
    GenericHttpResponseWithMeta_Vec_LeaderboardItemDto_PaginationMeta:
      type: object
      required:
      - data
      - meta
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - authority
            - rank
            - lp_positions_count
            - lp_base_value_usd
            - lp_period_pnl_usd
            - lp_period_pnl_percent
            - spot_positions_count
            - spot_base_value_usd
            - spot_period_pnl_usd
            - spot_period_pnl_percent
            - total_period_pnl_usd
            - total_period_pnl_percent
            properties:
              authority:
                type: string
                format: pubkey
                description: Solana public key (base58)
              lp_base_value_usd:
                type: number
                format: double
              lp_period_pnl_percent:
                type: number
                format: double
              lp_period_pnl_usd:
                type: number
                format: double
              lp_positions_count:
                type: integer
                minimum: 0
              rank:
                type: integer
                minimum: 0
              spot_base_value_usd:
                type: number
                format: double
              spot_period_pnl_percent:
                type: number
                format: double
              spot_period_pnl_usd:
                type: number
                format: double
              spot_positions_count:
                type: integer
                minimum: 0
              total_period_pnl_percent:
                type: number
                format: double
              total_period_pnl_usd:
                type: number
                format: double
        meta:
          type: object
          required:
          - total
          properties:
            total:
              type: integer
              format: int64
    GenericHttpResponseWithMeta_Vec_StakingLeaderboardPositionDto_PaginationMeta:
      type: object
      required:
      - data
      - meta
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - rank
            - address
            - owner
            - staked
            properties:
              address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              owner:
                type: string
                format: pubkey
                description: Solana public key (base58)
              rank:
                type: integer
                format: int32
                minimum: 0
              staked:
                $ref: '#/components/schemas/TokenAmountWithUsd'
        meta:
          type: object
          required:
          - total
          properties:
            total:
              type: integer
              format: int64
    GenericHttpResponse_CloseSpotPositionQuoteDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - decrease_percent
          - required_swap_amount
          - estimated_withdrawn_collateral
          - price_impact
          properties:
            decrease_percent:
              type: number
              format: double
              description: Confirmed position decrease percentage (100% = 1.0)
            estimated_withdrawn_collateral:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            price_impact:
              type: number
              format: double
              description: Price impact in percents (100% = 1.0)
            required_swap_amount:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
    GenericHttpResponse_DecreaseSpotPositionQuoteDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - decrease_percent
          - required_swap_amount
          - estimated_amount
          - estimated_withdrawn_collateral
          - price_impact
          - liquidation_price
          properties:
            decrease_percent:
              type: number
              format: double
              description: Position decrease percentage
            estimated_amount:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            estimated_withdrawn_collateral:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            liquidation_price:
              type: number
              format: double
              description: Liquidation price
            price_impact:
              type: number
              format: double
              description: Price impact in percents (100% = 1.0)
            required_swap_amount:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
    GenericHttpResponse_HttpStatusData:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - status
          properties:
            status:
              type: string
    GenericHttpResponse_IncreaseSpotPositionQuoteDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - collateral_amount
          - borrow_amount
          - estimated_amount
          - swap_input_amount
          - min_swap_output_amount
          - protocol_fee_a
          - protocol_fee_b
          - price_impact
          - liquidation_price
          properties:
            borrow_amount:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            collateral_amount:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            estimated_amount:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            liquidation_price:
              type: number
              format: double
              description: Liquidation price
            min_swap_output_amount:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            price_impact:
              type: number
              format: double
              description: Price impact in percents
            protocol_fee_a:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            protocol_fee_b:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            swap_input_amount:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
    GenericHttpResponse_LimitOrderQuoteByOutputDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - amount_in
          properties:
            amount_in:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
    GenericHttpResponse_MarketDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - address
          - address_lookup_table
          - max_leverage
          - max_swap_slippage
          - protocol_fee
          - protocol_fee_on_collateral
          - liquidation_fee
          - liquidation_threshold
          - oracle_price_deviation_threshold
          - rebalance_protocol_fee
          - borrowed_funds_a
          - borrowed_funds_b
          - borrow_limit_a
          - borrow_limit_b
          - max_spot_position_size_a
          - max_spot_position_size_b
          - pool
          - disabled
          - created_at
          properties:
            address:
              type: string
              format: pubkey
              description: Solana public key (base58)
            address_lookup_table:
              type: string
              format: pubkey
              description: Solana public key (base58)
            borrow_limit_a:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            borrow_limit_b:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            borrowed_funds_a:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            borrowed_funds_b:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            created_at:
              type: string
              format: date-time
            disabled:
              type: boolean
            liquidation_fee:
              type: integer
              format: int32
              minimum: 0
            liquidation_threshold:
              type: integer
              format: int32
              minimum: 0
            max_leverage:
              type: integer
              format: int32
              minimum: 0
            max_spot_position_size_a:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            max_spot_position_size_b:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            max_swap_slippage:
              type: integer
              format: int32
              minimum: 0
            oracle_price_deviation_threshold:
              type: integer
              format: int32
              minimum: 0
            pool:
              $ref: '#/components/schemas/PoolDto'
            protocol_fee:
              type: integer
              format: int32
              minimum: 0
            protocol_fee_on_collateral:
              type: integer
              format: int32
              minimum: 0
            rebalance_protocol_fee:
              type: integer
              format: int32
              minimum: 0
    GenericHttpResponse_MintDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - address
          - symbol
          - name
          - logo
          - decimals
          properties:
            address:
              type: string
              format: pubkey
              description: Solana public key (base58)
            decimals:
              type: integer
              format: int32
            logo:
              type: string
            name:
              type: string
            symbol:
              type: string
    GenericHttpResponse_Option_LendingPositionDto:
      type: object
      required:
      - data
      properties:
        data:
          oneOf:
          - type: 'null'
          - type: object
            required:
            - address
            - authority
            - shares
            - funds
            - earned
            - mint
            - vault
            - updated_at_slot
            properties:
              address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              authority:
                type: string
                format: pubkey
                description: Solana public key (base58)
              earned:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              funds:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              mint:
                type: string
                format: pubkey
                description: Solana public key (base58)
              shares:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              updated_at_slot:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              vault:
                type: string
                format: pubkey
                description: Solana public key (base58)
    GenericHttpResponse_Option_TunaPositionDto:
      type: object
      required:
      - data
      properties:
        data:
          oneOf:
          - type: 'null'
          - type: object
            required:
            - address
            - authority
            - version
            - state
            - position_mint
            - liquidity
            - tick_lower_index
            - tick_upper_index
            - lower_limit_order_price
            - upper_limit_order_price
            - entry_price
            - flags
            - pool
            - market_maker
            - deposited_collateral_a
            - deposited_collateral_b
            - leverage
            - max_leverage
            - liquidation_price_lower
            - liquidation_price_upper
            - initial_debt_a
            - initial_debt_b
            - current_debt_a
            - current_debt_b
            - leftovers_a
            - leftovers_b
            - yield_a
            - yield_b
            - compounded_yield_a
            - compounded_yield_b
            - total_a
            - total_b
            - pnl_a
            - pnl_b
            - pnl_usd
            - opened_at
            properties:
              address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              authority:
                type: string
                format: pubkey
                description: Solana public key (base58)
              closed_at:
                type:
                - string
                - 'null'
                format: date-time
              compounded_yield_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              compounded_yield_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              current_debt_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              current_debt_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              deposited_collateral_a:
                $ref: '#/components/schemas/TunaPositionTokenDepositedCollateral'
              deposited_collateral_b:
                $ref: '#/components/schemas/TunaPositionTokenDepositedCollateral'
              entry_price:
                type: number
                format: double
              flags:
                $ref: '#/components/schemas/TunaLpPositionFlags'
              initial_debt_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              initial_debt_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              leftovers_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              leftovers_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              leverage:
                type: number
                format: double
              liquidation_price_lower:
                type: number
                format: double
              liquidation_price_upper:
                type: number
                format: double
              liquidity:
                type: string
                format: uint128
                description: Unsigned 128-bit integer encoded as a decimal string
              lower_limit_order_price:
                type: number
                format: double
              market_maker:
                $ref: '#/components/schemas/TunaPositionMarketMaker'
              max_leverage:
                type: number
                format: double
              opened_at:
                type: string
                format: date-time
              pnl_a:
                $ref: '#/components/schemas/TunaPositionTokenPnl'
                description: Total PnL denominated/expressed in token A
              pnl_b:
                $ref: '#/components/schemas/TunaPositionTokenPnl'
                description: Total PnL denominated/expressed in token B
              pnl_usd:
                $ref: '#/components/schemas/TunaPositionUsdPnl'
              pool:
                $ref: '#/components/schemas/PoolDto'
              position_mint:
                type: string
                format: pubkey
                description: Solana public key (base58)
              state:
                $ref: '#/components/schemas/TunaPositionDtoState'
              tick_lower_index:
                type: integer
                format: int32
              tick_upper_index:
                type: integer
                format: int32
              total_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              total_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              upper_limit_order_price:
                type: number
                format: double
              version:
                type: integer
                format: int32
                minimum: 0
              yield_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              yield_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
    GenericHttpResponse_OraclePriceDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - mint
          - price
          - time
          - decimals
          properties:
            decimals:
              type: integer
              format: int32
            mint:
              type: string
              format: pubkey
              description: Solana public key (base58)
            price:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            time:
              type: string
              format: date-time
    GenericHttpResponse_OrderBookDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - pool_address
          - entries
          - pool_price
          properties:
            entries:
              type: array
              items:
                $ref: '#/components/schemas/OrderBookEntryDto'
            pool_address:
              type: string
              format: pubkey
              description: Solana public key (base58)
            pool_price:
              type: number
              format: double
    GenericHttpResponse_PoolDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - address
          - provider
          - mint_a
          - mint_b
          - token_a_vault
          - token_b_vault
          - tick_spacing
          - fee_rate
          - protocol_fee_rate
          - liquidity
          - sqrt_price
          - price
          - tick_current_index
          properties:
            address:
              type: string
              format: pubkey
              description: Solana public key (base58)
            fee_rate:
              type: integer
              format: int32
              minimum: 0
            liquidity:
              type: string
              format: uint128
              description: Unsigned 128-bit integer encoded as a decimal string
            mint_a:
              $ref: '#/components/schemas/MintDto'
            mint_b:
              $ref: '#/components/schemas/MintDto'
            olp_fee_rate:
              type:
              - integer
              - 'null'
              format: int32
            price:
              type: number
              format: double
            protocol_fee_rate:
              type: integer
              format: int32
              minimum: 0
            provider:
              $ref: '#/components/schemas/PoolProvider'
            sqrt_price:
              type: string
              format: uint128
              description: Unsigned 128-bit integer encoded as a decimal string
            stats:
              oneOf:
              - type: 'null'
              - $ref: '#/components/schemas/PoolStatsDto'
            tick_current_index:
              type: integer
              format: int32
            tick_spacing:
              type: integer
              format: int32
              minimum: 0
            token_a_vault:
              type: string
              format: pubkey
              description: Solana public key (base58)
            token_b_vault:
              type: string
              format: pubkey
              description: Solana public key (base58)
    GenericHttpResponse_PoolTicksDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - tick_spacing
          - ticks
          properties:
            tick_spacing:
              type: integer
              format: int32
              minimum: 0
            ticks:
              type: array
              items:
                $ref: '#/components/schemas/TickDto'
    GenericHttpResponse_SseResponse:
      type: object
      required:
      - data
      properties:
        data:
          oneOf:
          - $ref: '#/components/schemas/StreamInitalMessage'
          - $ref: '#/components/schemas/NotificationDto_PoolSwapDto'
          - $ref: '#/components/schemas/NotificationDto_StakingPositionDto'
          - $ref: '#/components/schemas/NotificationDto_LendingPositionDto'
          - $ref: '#/components/schemas/NotificationDto_TradeHistoryEntryDto'
          - $ref: '#/components/schemas/NotificationDto_OrderHistoryEntryDto'
          - $ref: '#/components/schemas/SnapshotContainer'
          discriminator:
            propertyName: entity
    GenericHttpResponse_StakingPositionDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - address
          - owner
          - staked
          - unclaimed_reward
          - claimed_reward
          - unstaked
          - vesting
          properties:
            address:
              type: string
              format: pubkey
              description: Solana public key (base58)
            claimed_reward:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            last_unstaked_at:
              type:
              - string
              - 'null'
              format: date-time
            owner:
              type: string
              format: pubkey
              description: Solana public key (base58)
            rank:
              type:
              - integer
              - 'null'
              format: int32
              minimum: 0
            staked:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            unclaimed_reward:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            unstaked:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            vesting:
              $ref: '#/components/schemas/VestingDto'
            withdraw_available_at:
              type:
              - string
              - 'null'
              format: date-time
    GenericHttpResponse_SwapQuoteByInputDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - estimated_amount_out
          - min_amount_out
          - fee_amount
          - fee_usd
          - price_impact
          properties:
            estimated_amount_out:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            fee_amount:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            fee_usd:
              type: number
              format: double
            min_amount_out:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            price_impact:
              type: number
              format: double
              description: Price impact in percents
    GenericHttpResponse_SwapQuoteByOutputDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - estimated_amount_in
          - max_amount_in
          - fee_amount
          - fee_usd
          - price_impact
          properties:
            estimated_amount_in:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            fee_amount:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            fee_usd:
              type: number
              format: double
            max_amount_in:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            price_impact:
              type: number
              format: double
              description: Price impact in percents
    GenericHttpResponse_TradableAmountDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - amount
          - usd
          properties:
            amount:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            usd:
              type: number
              format: double
    GenericHttpResponse_TreasuryDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - address
          - staked_token_mint
          - reward_token_mint
          - apy
          - unique_stakers
          - total_staked
          - total_reward
          - unstake_cooldown_seconds
          - is_staking_enabled
          - is_unstaking_enabled
          - is_withdraw_enabled
          properties:
            address:
              type: string
              format: pubkey
              description: Solana public key (base58)
            apy:
              type: number
              format: double
            is_staking_enabled:
              type: boolean
            is_unstaking_enabled:
              type: boolean
            is_withdraw_enabled:
              type: boolean
            reward_token_mint:
              type: string
              format: pubkey
              description: Solana public key (base58)
            staked_token_mint:
              type: string
              format: pubkey
              description: Solana public key (base58)
            total_reward:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            total_staked:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            unique_stakers:
              type: integer
              format: int32
              minimum: 0
            unstake_cooldown_seconds:
              type: integer
              format: int32
              description: The minimum required interval in seconds between the last staking and a possible withdrawal.
              minimum: 0
    GenericHttpResponse_TunaSpotPositionDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - address
          - authority
          - version
          - state
          - lower_limit_order_price
          - upper_limit_order_price
          - entry_price
          - pool
          - position_token
          - collateral_token
          - market_maker
          - deposited_collateral
          - initial_debt
          - current_debt
          - total
          - leverage
          - max_leverage
          - liquidation_price
          - pnl_usd
          - opened_at
          properties:
            address:
              type: string
              format: pubkey
              description: Solana public key (base58)
            authority:
              type: string
              format: pubkey
              description: Solana public key (base58)
            closed_at:
              type:
              - string
              - 'null'
              format: date-time
            collateral_token:
              $ref: '#/components/schemas/TunaPositionPoolToken'
            current_debt:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            deposited_collateral:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            entry_price:
              type: number
              format: double
            initial_debt:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            leverage:
              type: number
              format: double
            liquidation_price:
              type: number
              format: double
            lower_limit_order_price:
              type: number
              format: double
            market_maker:
              $ref: '#/components/schemas/TunaPositionMarketMaker'
            max_leverage:
              type: number
              format: double
            opened_at:
              type: string
              format: date-time
            pnl_usd:
              $ref: '#/components/schemas/TunaPositionUsdPnl'
            pool:
              $ref: '#/components/schemas/PoolDto'
            position_token:
              $ref: '#/components/schemas/TunaPositionPoolToken'
            state:
              $ref: '#/components/schemas/TunaSpotPositionDtoState'
            total:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            upper_limit_order_price:
              type: number
              format: double
            version:
              type: integer
              format: int32
              minimum: 0
    GenericHttpResponse_VaultDto:
      type: object
      required:
      - data
      properties:
        data:
          type: object
          required:
          - address
          - mint
          - deposited_funds
          - borrowed_funds
          - supply_limit
          - borrowed_shares
          - deposited_shares
          - interest_rate
          - utilization
          - supply_apy
          - borrow_apy
          - pyth_oracle_feed_id
          - pyth_oracle_price_update
          properties:
            address:
              type: string
              format: pubkey
              description: Solana public key (base58)
            borrow_apy:
              type: number
              format: double
            borrowed_funds:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            borrowed_shares:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            deposited_funds:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            deposited_shares:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            interest_rate:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            mint:
              type: string
              format: pubkey
              description: Solana public key (base58)
            pyth_oracle_feed_id:
              type: string
              format: pubkey
              description: Solana public key (base58)
            pyth_oracle_price_update:
              type: string
              format: pubkey
              description: Solana public key (base58)
            supply_apy:
              type: number
              format: double
            supply_limit:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            utilization:
              type: number
              format: double
    GenericHttpResponse_Vec_FeesStatsGroupDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - time
            - add_liquidity_fees
            - limit_order_fees
            - yield_compounding_fees
            - liquidation_fees
            - rebalance_fees
            - total_liquidations_network_fees
            - total_rebalance_network_fees
            - total_limit_orders_network_fees
            - total_yield_compounding_network_fees
            - failed_network_fees
            - processed_network_fees
            - total_collected_fees
            - total_fusion_fees
            - total_network_fees
            - jito_liquidation_fees
            - jito_rebalance_fees
            - jito_limit_order_fees
            - jito_yield_compounding_fees
            - running_add_liquidity_fees
            - running_limit_order_fees
            - running_yield_compounding_fees
            - running_liquidation_fees
            - running_rebalance_fees
            - running_total_liquidations_network_fees
            - running_total_limit_orders_network_fees
            - running_total_yield_compounding_network_fees
            - running_failed_network_fees
            - running_processed_network_fees
            - running_jito_liquidation_fees
            - running_jito_rebalance_fees
            - running_jito_limit_order_fees
            - running_jito_yield_compounding_fees
            - running_total_collected_fees
            - running_total_fusion_fees
            - running_total_network_fees
            properties:
              add_liquidity_fees:
                type: number
                format: double
              failed_network_fees:
                type: number
                format: double
              jito_limit_order_fees:
                type: number
                format: double
              jito_liquidation_fees:
                type: number
                format: double
              jito_rebalance_fees:
                type: number
                format: double
              jito_yield_compounding_fees:
                type: number
                format: double
              limit_order_fees:
                type: number
                format: double
              liquidation_fees:
                type: number
                format: double
              processed_network_fees:
                type: number
                format: double
              rebalance_fees:
                type: number
                format: double
              running_add_liquidity_fees:
                type: number
                format: double
              running_failed_network_fees:
                type: number
                format: double
              running_jito_limit_order_fees:
                type: number
                format: double
              running_jito_liquidation_fees:
                type: number
                format: double
              running_jito_rebalance_fees:
                type: number
                format: double
              running_jito_yield_compounding_fees:
                type: number
                format: double
              running_limit_order_fees:
                type: number
                format: double
              running_liquidation_fees:
                type: number
                format: double
              running_processed_network_fees:
                type: number
                format: double
              running_rebalance_fees:
                type: number
                format: double
              running_total_collected_fees:
                type: number
                format: double
              running_total_fusion_fees:
                type: number
                format: double
              running_total_limit_orders_network_fees:
                type: number
                format: double
              running_total_liquidations_network_fees:
                type: number
                format: double
              running_total_network_fees:
                type: number
                format: double
              running_total_yield_compounding_network_fees:
                type: number
                format: double
              running_yield_compounding_fees:
                type: number
                format: double
              time:
                type: string
                format: date-time
              total_collected_fees:
                type: number
                format: double
              total_fusion_fees:
                type: number
                format: double
              total_limit_orders_network_fees:
                type: number
                format: double
              total_liquidations_network_fees:
                type: number
                format: double
              total_network_fees:
                type: number
                format: double
              total_rebalance_network_fees:
                type: number
                format: double
              total_yield_compounding_network_fees:
                type: number
                format: double
              yield_compounding_fees:
                type: number
                format: double
    GenericHttpResponse_Vec_FusionFeesStatsGroupDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - time
            - pool
            - total_collected_fees
            - running_total_collected_fees
            properties:
              pool:
                type: string
                format: pubkey
                description: Solana public key (base58)
              running_total_collected_fees:
                type: number
                format: double
              time:
                type: string
                format: date-time
              total_collected_fees:
                type: number
                format: double
    GenericHttpResponse_Vec_LendingPositionDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - address
            - authority
            - shares
            - funds
            - earned
            - mint
            - vault
            - updated_at_slot
            properties:
              address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              authority:
                type: string
                format: pubkey
                description: Solana public key (base58)
              earned:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              funds:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              mint:
                type: string
                format: pubkey
                description: Solana public key (base58)
              shares:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              updated_at_slot:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              vault:
                type: string
                format: pubkey
                description: Solana public key (base58)
    GenericHttpResponse_Vec_LimitOrderDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - id
            - address
            - order_mint
            - authority
            - pool
            - state
            - fill_ratio
            - a_to_b
            - tick_index
            - open_tx_signature
            - amount_in
            - amount_out
            - opened_at
            properties:
              a_to_b:
                type: boolean
              address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              amount_in:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              amount_out:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              authority:
                type: string
                format: pubkey
                description: Solana public key (base58)
              close_tx_signature:
                type:
                - string
                - 'null'
              closed_at:
                type:
                - string
                - 'null'
                format: date-time
              fill_ratio:
                type: number
                format: double
              id:
                type: string
              open_tx_signature:
                type: string
              opened_at:
                type: string
                format: date-time
              order_mint:
                type: string
                format: pubkey
                description: Solana public key (base58)
              pool:
                $ref: '#/components/schemas/PoolDto'
              state:
                $ref: '#/components/schemas/LimitOrderStatus'
              tick_index:
                type: integer
                format: int32
    GenericHttpResponse_Vec_MarketDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - address
            - address_lookup_table
            - max_leverage
            - max_swap_slippage
            - protocol_fee
            - protocol_fee_on_collateral
            - liquidation_fee
            - liquidation_threshold
            - oracle_price_deviation_threshold
            - rebalance_protocol_fee
            - borrowed_funds_a
            - borrowed_funds_b
            - borrow_limit_a
            - borrow_limit_b
            - max_spot_position_size_a
            - max_spot_position_size_b
            - pool
            - disabled
            - created_at
            properties:
              address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              address_lookup_table:
                type: string
                format: pubkey
                description: Solana public key (base58)
              borrow_limit_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              borrow_limit_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              borrowed_funds_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              borrowed_funds_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              created_at:
                type: string
                format: date-time
              disabled:
                type: boolean
              liquidation_fee:
                type: integer
                format: int32
                minimum: 0
              liquidation_threshold:
                type: integer
                format: int32
                minimum: 0
              max_leverage:
                type: integer
                format: int32
                minimum: 0
              max_spot_position_size_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              max_spot_position_size_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              max_swap_slippage:
                type: integer
                format: int32
                minimum: 0
              oracle_price_deviation_threshold:
                type: integer
                format: int32
                minimum: 0
              pool:
                $ref: '#/components/schemas/PoolDto'
              protocol_fee:
                type: integer
                format: int32
                minimum: 0
              protocol_fee_on_collateral:
                type: integer
                format: int32
                minimum: 0
              rebalance_protocol_fee:
                type: integer
                format: int32
                minimum: 0
    GenericHttpResponse_Vec_MintDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - address
            - symbol
            - name
            - logo
            - decimals
            properties:
              address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              decimals:
                type: integer
                format: int32
              logo:
                type: string
              name:
                type: string
              symbol:
                type: string
    GenericHttpResponse_Vec_OraclePriceDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - mint
            - price
            - time
            - decimals
            properties:
              decimals:
                type: integer
                format: int32
              mint:
                type: string
                format: pubkey
                description: Solana public key (base58)
              price:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              time:
                type: string
                format: date-time
    GenericHttpResponse_Vec_OrderHistoryEntryDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - id
            - ts
            - slot
            - pool
            - authority
            - order_type
            - is_reduce_only
            - a_to_b
            - ui_direction
            - status
            - base_token
            - quote_token
            properties:
              a_to_b:
                type: boolean
                description: |-
                  Mints (Tokens) Pair direction in pool
                  When TRUE  - Base token is Mint A, Quote token is Mint B
                  WHEN FALSE - Base token is Mint B, Quote token is MInt A
              authority:
                type: string
                format: pubkey
                description: Solana public key (base58)
              base_token:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              base_token_consumed_amount:
                oneOf:
                - type: 'null'
                - $ref: '#/components/schemas/TokenAmountWithUsd'
                  description: Filled only for limit orders (consumed_amount_in)
              id:
                type: string
                format: uuid
              is_reduce_only:
                type: boolean
              ix_index:
                type:
                - integer
                - 'null'
                format: int32
                description: |-
                  Filled for swaps (spot)
                  Flatten transaction instruction index
              order_type:
                $ref: '#/components/schemas/OrderHistoryType'
              pool:
                $ref: '#/components/schemas/PoolDto'
              position_address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              quote_token:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              quote_token_filled_amount:
                oneOf:
                - type: 'null'
                - $ref: '#/components/schemas/TokenAmountWithUsd'
                  description: Filled only for limit orders (filled_amount_out)
              slot:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              status:
                $ref: '#/components/schemas/OrderHistoryStatus'
              ts:
                type: string
                format: date-time
                description: Block time of slot this entry was create from
              tx_signature:
                type:
                - string
                - 'null'
                description: Filled for swaps (spot) and margin positions
              ui_direction:
                $ref: '#/components/schemas/OrderHistoryUIDirection'
              ui_execution_price:
                type:
                - number
                - 'null'
                format: double
                description: |-
                  A decimal price based on the action.
                  For market (swaps + margin) orders, displays average execution price for the order excluding the fee
              ui_price:
                type:
                - number
                - 'null'
                format: double
                description: |-
                  A decimal price based on the action.
                  Only for limit orders & trigger actions.

                  * For limit order fills - price derived from order tick_index
                  * For take profit / stop loss / liquidation - trigger price
    GenericHttpResponse_Vec_PoolDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - address
            - provider
            - mint_a
            - mint_b
            - token_a_vault
            - token_b_vault
            - tick_spacing
            - fee_rate
            - protocol_fee_rate
            - liquidity
            - sqrt_price
            - price
            - tick_current_index
            properties:
              address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              fee_rate:
                type: integer
                format: int32
                minimum: 0
              liquidity:
                type: string
                format: uint128
                description: Unsigned 128-bit integer encoded as a decimal string
              mint_a:
                $ref: '#/components/schemas/MintDto'
              mint_b:
                $ref: '#/components/schemas/MintDto'
              olp_fee_rate:
                type:
                - integer
                - 'null'
                format: int32
              price:
                type: number
                format: double
              protocol_fee_rate:
                type: integer
                format: int32
                minimum: 0
              provider:
                $ref: '#/components/schemas/PoolProvider'
              sqrt_price:
                type: string
                format: uint128
                description: Unsigned 128-bit integer encoded as a decimal string
              stats:
                oneOf:
                - type: 'null'
                - $ref: '#/components/schemas/PoolStatsDto'
              tick_current_index:
                type: integer
                format: int32
              tick_spacing:
                type: integer
                format: int32
                minimum: 0
              token_a_vault:
                type: string
                format: pubkey
                description: Solana public key (base58)
              token_b_vault:
                type: string
                format: pubkey
                description: Solana public key (base58)
    GenericHttpResponse_Vec_PoolPriceCandleDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - time
            - high
            - low
            - open
            - close
            - volume
            properties:
              close:
                type: number
                format: double
              high:
                type: number
                format: double
              low:
                type: number
                format: double
              open:
                type: number
                format: double
              time:
                type: integer
                format: int32
              volume:
                type: number
                format: double
    GenericHttpResponse_Vec_PoolSwapDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - id
            - amount_in
            - amount_out
            - amount_usd
            - a_to_b
            - pool
            - time
            - tx_signature
            properties:
              a_to_b:
                type: boolean
              amount_in:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              amount_out:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              amount_usd:
                type: number
                format: double
              id:
                type: string
              pool:
                type: string
                format: pubkey
                description: Solana public key (base58)
              time:
                type: string
                format: date-time
              tx_signature:
                type: string
    GenericHttpResponse_Vec_StakingDepositsStatsDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - time
            - total_deposits_usd
            - total_deposits_sol
            - running_total_deposits_usd
            - running_total_deposits_sol
            properties:
              running_total_deposits_sol:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              running_total_deposits_usd:
                type: number
                format: double
              time:
                type: string
                format: date-time
              total_deposits_sol:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              total_deposits_usd:
                type: number
                format: double
    GenericHttpResponse_Vec_StakingPositionActionDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - position
            - action
            - amount
            - time
            - tx_signature
            properties:
              action:
                $ref: '#/components/schemas/StakingPositionActionType'
              amount:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              position:
                type: string
                format: pubkey
                description: Solana public key (base58)
              time:
                type: string
                format: date-time
              tx_signature:
                type: string
    GenericHttpResponse_Vec_TradeHistoryEntryDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - id
            - ts
            - slot
            - pool
            - authority
            - a_to_b
            - action
            - ui_direction
            - ui_price
            - base_token
            - quote_token
            - fee
            properties:
              a_to_b:
                type: boolean
                description: |-
                  Mints (Tokens) Pair direction in pool
                  When TRUE  - Base token is Mint A, Quote token is Mint B
                  WHEN FALSE - Base token is Mint B, Quote token is MInt A
              action:
                $ref: '#/components/schemas/TradeHistoryAction'
              authority:
                type: string
                format: pubkey
                description: Solana public key (base58)
              base_token:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              fee:
                $ref: '#/components/schemas/FeeAmountWithUsd'
                description: |-
                  Positive for taker trades (swaps + spot) and negative for maker trades (limit orders)
                  Measured in quote tokens for limit orders
              id:
                type: string
                format: uuid
              ix_index:
                type:
                - integer
                - 'null'
                format: int32
                description: |-
                  Filled for swaps (spot)
                  Flatten transaction instruction index
              pnl:
                oneOf:
                - type: 'null'
                - $ref: '#/components/schemas/TradeHistoryEntryPnlUsd'
                  description: |-
                    Only for margin positions,
                    will be calculated based on the price of collateral when opening a position
                    and the position value on decrease/close.
              pool:
                $ref: '#/components/schemas/PoolDto'
              position_address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              quote_token:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              slot:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              ts:
                type: string
                format: date-time
              tx_signature:
                type:
                - string
                - 'null'
                description: Filled for swaps (spot) and margin positions
              ui_direction:
                $ref: '#/components/schemas/TradeHistoryUIDirection'
              ui_price:
                type: number
                format: double
                description: |-
                  A decimal price based on the action.

                  * For spot and margin positions - average execution price excluding the fee.
                  * For limit order fills - price derived from order tick_index.
    GenericHttpResponse_Vec_TunaLpPositionActionDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - action
            - tx_signature
            - tx_timestamp
            - data
            properties:
              action:
                $ref: '#/components/schemas/TunaLpPositionsActionType'
              data:
                $ref: '#/components/schemas/TunaLpPositionActionComposite'
              tx_signature:
                type: string
              tx_timestamp:
                type: string
                format: date-time
    GenericHttpResponse_Vec_TunaLpPositionDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - position_address
            - authority
            - pool
            - state
            - lower_price
            - upper_price
            - market_maker
            - opened_at
            - updated_at
            - total_value_usd
            - leverage
            - initial_leverage
            - total_deposit_usd
            - total_withdrawn_usd
            - fees_sum_usd
            - closed_pnl_sum_usd
            - entry_price
            properties:
              authority:
                type: string
                format: pubkey
                description: Solana public key (base58)
              closed_at:
                type:
                - string
                - 'null'
                format: date-time
              closed_pnl_sum_usd:
                type: number
                format: double
              entry_price:
                type: number
                format: double
              exit_price:
                type:
                - number
                - 'null'
                format: double
              fees_sum_usd:
                type: number
                format: double
              initial_leverage:
                type: number
                format: double
              leverage:
                type: number
                format: double
              lower_limit_order:
                type:
                - number
                - 'null'
                format: double
              lower_price:
                type: number
                format: double
              market_maker:
                $ref: '#/components/schemas/PoolProvider'
              opened_at:
                type: string
                format: date-time
              pool:
                $ref: '#/components/schemas/PoolDto'
              position_address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              state:
                $ref: '#/components/schemas/TunaPositionDtoState'
              total_deposit_usd:
                type: number
                format: double
              total_value_usd:
                type: number
                format: double
              total_withdrawn_usd:
                type: number
                format: double
              updated_at:
                type: string
                format: date-time
              upper_limit_order:
                type:
                - number
                - 'null'
                format: double
              upper_price:
                type: number
                format: double
    GenericHttpResponse_Vec_TunaPositionDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - address
            - authority
            - version
            - state
            - position_mint
            - liquidity
            - tick_lower_index
            - tick_upper_index
            - lower_limit_order_price
            - upper_limit_order_price
            - entry_price
            - flags
            - pool
            - market_maker
            - deposited_collateral_a
            - deposited_collateral_b
            - leverage
            - max_leverage
            - liquidation_price_lower
            - liquidation_price_upper
            - initial_debt_a
            - initial_debt_b
            - current_debt_a
            - current_debt_b
            - leftovers_a
            - leftovers_b
            - yield_a
            - yield_b
            - compounded_yield_a
            - compounded_yield_b
            - total_a
            - total_b
            - pnl_a
            - pnl_b
            - pnl_usd
            - opened_at
            properties:
              address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              authority:
                type: string
                format: pubkey
                description: Solana public key (base58)
              closed_at:
                type:
                - string
                - 'null'
                format: date-time
              compounded_yield_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              compounded_yield_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              current_debt_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              current_debt_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              deposited_collateral_a:
                $ref: '#/components/schemas/TunaPositionTokenDepositedCollateral'
              deposited_collateral_b:
                $ref: '#/components/schemas/TunaPositionTokenDepositedCollateral'
              entry_price:
                type: number
                format: double
              flags:
                $ref: '#/components/schemas/TunaLpPositionFlags'
              initial_debt_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              initial_debt_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              leftovers_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              leftovers_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              leverage:
                type: number
                format: double
              liquidation_price_lower:
                type: number
                format: double
              liquidation_price_upper:
                type: number
                format: double
              liquidity:
                type: string
                format: uint128
                description: Unsigned 128-bit integer encoded as a decimal string
              lower_limit_order_price:
                type: number
                format: double
              market_maker:
                $ref: '#/components/schemas/TunaPositionMarketMaker'
              max_leverage:
                type: number
                format: double
              opened_at:
                type: string
                format: date-time
              pnl_a:
                $ref: '#/components/schemas/TunaPositionTokenPnl'
                description: Total PnL denominated/expressed in token A
              pnl_b:
                $ref: '#/components/schemas/TunaPositionTokenPnl'
                description: Total PnL denominated/expressed in token B
              pnl_usd:
                $ref: '#/components/schemas/TunaPositionUsdPnl'
              pool:
                $ref: '#/components/schemas/PoolDto'
              position_mint:
                type: string
                format: pubkey
                description: Solana public key (base58)
              state:
                $ref: '#/components/schemas/TunaPositionDtoState'
              tick_lower_index:
                type: integer
                format: int32
              tick_upper_index:
                type: integer
                format: int32
              total_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              total_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              upper_limit_order_price:
                type: number
                format: double
              version:
                type: integer
                format: int32
                minimum: 0
              yield_a:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              yield_b:
                $ref: '#/components/schemas/TokenAmountWithUsd'
    GenericHttpResponse_Vec_TunaSpotPositionDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - address
            - authority
            - version
            - state
            - lower_limit_order_price
            - upper_limit_order_price
            - entry_price
            - pool
            - position_token
            - collateral_token
            - market_maker
            - deposited_collateral
            - initial_debt
            - current_debt
            - total
            - leverage
            - max_leverage
            - liquidation_price
            - pnl_usd
            - opened_at
            properties:
              address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              authority:
                type: string
                format: pubkey
                description: Solana public key (base58)
              closed_at:
                type:
                - string
                - 'null'
                format: date-time
              collateral_token:
                $ref: '#/components/schemas/TunaPositionPoolToken'
              current_debt:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              deposited_collateral:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              entry_price:
                type: number
                format: double
              initial_debt:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              leverage:
                type: number
                format: double
              liquidation_price:
                type: number
                format: double
              lower_limit_order_price:
                type: number
                format: double
              market_maker:
                $ref: '#/components/schemas/TunaPositionMarketMaker'
              max_leverage:
                type: number
                format: double
              opened_at:
                type: string
                format: date-time
              pnl_usd:
                $ref: '#/components/schemas/TunaPositionUsdPnl'
              pool:
                $ref: '#/components/schemas/PoolDto'
              position_token:
                $ref: '#/components/schemas/TunaPositionPoolToken'
              state:
                $ref: '#/components/schemas/TunaSpotPositionDtoState'
              total:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              upper_limit_order_price:
                type: number
                format: double
              version:
                type: integer
                format: int32
                minimum: 0
    GenericHttpResponse_Vec_VaultDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - address
            - mint
            - deposited_funds
            - borrowed_funds
            - supply_limit
            - borrowed_shares
            - deposited_shares
            - interest_rate
            - utilization
            - supply_apy
            - borrow_apy
            - pyth_oracle_feed_id
            - pyth_oracle_price_update
            properties:
              address:
                type: string
                format: pubkey
                description: Solana public key (base58)
              borrow_apy:
                type: number
                format: double
              borrowed_funds:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              borrowed_shares:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              deposited_funds:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              deposited_shares:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              interest_rate:
                type: string
                format: uint64
                description: Unsigned 64-bit integer encoded as a decimal string
              mint:
                type: string
                format: pubkey
                description: Solana public key (base58)
              pyth_oracle_feed_id:
                type: string
                format: pubkey
                description: Solana public key (base58)
              pyth_oracle_price_update:
                type: string
                format: pubkey
                description: Solana public key (base58)
              supply_apy:
                type: number
                format: double
              supply_limit:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              utilization:
                type: number
                format: double
    GenericHttpResponse_Vec_VaultStatsDto:
      type: object
      required:
      - data
      properties:
        data:
          type: array
          items:
            type: object
            required:
            - date
            - supply
            - borrow
            - supply_apy
            - borrow_apr
            properties:
              borrow:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              borrow_apr:
                type: number
                format: double
              date:
                type: string
                format: date
              supply:
                $ref: '#/components/schemas/TokenAmountWithUsd'
              supply_apy:
                type: number
                format: double
    GenericHttpResponse_i64:
      type: object
      required:
      - data
      properties:
        data:
          type: integer
          format: int64
    GetLimitOrderError404Error:
      type: object
      required:
      - code
      properties:
        code:
          type: string
          enum:
          - not_found
    GetLimitOrderError500Error:
      type: object
      required:
      - code
      properties:
        code:
          type: string
          enum:
          - internal_error
    HashMap:
      type: object
      additionalProperties:
        type: object
        required:
        - volume_usd
        - fees_usd
        - price_change
        properties:
          fees_usd:
            type: number
            format: double
          price_change:
            type: number
            format: double
          volume_usd:
            type: number
            format: double
      propertyNames:
        type: string
    HttpStatusData:
      type: object
      required:
      - status
      properties:
        status:
          type: string
    IncreaseSpotPositionQuoteDto:
      type: object
      required:
      - collateral_amount
      - borrow_amount
      - estimated_amount
      - swap_input_amount
      - min_swap_output_amount
      - protocol_fee_a
      - protocol_fee_b
      - price_impact
      - liquidation_price
      properties:
        borrow_amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        collateral_amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        estimated_amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        liquidation_price:
          type: number
          format: double
          description: Liquidation price
        min_swap_output_amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        price_impact:
          type: number
          format: double
          description: Price impact in percents
        protocol_fee_a:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        protocol_fee_b:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        swap_input_amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
    InternalErrorCodeErrorBody:
      type: object
      required:
      - code
      properties:
        code:
          type: string
          enum:
          - internal_error
    LeaderboardItemDto:
      type: object
      required:
      - authority
      - rank
      - lp_positions_count
      - lp_base_value_usd
      - lp_period_pnl_usd
      - lp_period_pnl_percent
      - spot_positions_count
      - spot_base_value_usd
      - spot_period_pnl_usd
      - spot_period_pnl_percent
      - total_period_pnl_usd
      - total_period_pnl_percent
      properties:
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        lp_base_value_usd:
          type: number
          format: double
        lp_period_pnl_percent:
          type: number
          format: double
        lp_period_pnl_usd:
          type: number
          format: double
        lp_positions_count:
          type: integer
          minimum: 0
        rank:
          type: integer
          minimum: 0
        spot_base_value_usd:
          type: number
          format: double
        spot_period_pnl_percent:
          type: number
          format: double
        spot_period_pnl_usd:
          type: number
          format: double
        spot_positions_count:
          type: integer
          minimum: 0
        total_period_pnl_percent:
          type: number
          format: double
        total_period_pnl_usd:
          type: number
          format: double
    LeaderboardPeriod:
      type: string
      enum:
      - week
    LeaderboardSortBy:
      type: string
      enum:
      - profit
      - percent
    LendingPositionDto:
      type: object
      required:
      - address
      - authority
      - shares
      - funds
      - earned
      - mint
      - vault
      - updated_at_slot
      properties:
        address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        earned:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        funds:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        mint:
          type: string
          format: pubkey
          description: Solana public key (base58)
        shares:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        updated_at_slot:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        vault:
          type: string
          format: pubkey
          description: Solana public key (base58)
    LimitOrderDto:
      type: object
      required:
      - id
      - address
      - order_mint
      - authority
      - pool
      - state
      - fill_ratio
      - a_to_b
      - tick_index
      - open_tx_signature
      - amount_in
      - amount_out
      - opened_at
      properties:
        a_to_b:
          type: boolean
        address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        amount_in:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        amount_out:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        close_tx_signature:
          type:
          - string
          - 'null'
        closed_at:
          type:
          - string
          - 'null'
          format: date-time
        fill_ratio:
          type: number
          format: double
        id:
          type: string
        open_tx_signature:
          type: string
        opened_at:
          type: string
          format: date-time
        order_mint:
          type: string
          format: pubkey
          description: Solana public key (base58)
        pool:
          $ref: '#/components/schemas/PoolDto'
        state:
          $ref: '#/components/schemas/LimitOrderStatus'
        tick_index:
          type: integer
          format: int32
    LimitOrderQuoteByInputDto:
      type: object
      required:
      - amount_out
      properties:
        amount_out:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
    LimitOrderQuoteByOutputDto:
      type: object
      required:
      - amount_in
      properties:
        amount_in:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
    LimitOrderStatus:
      type: string
      enum:
      - open
      - partially_filled
      - filled
      - complete
      - cancelled
    MarketDto:
      type: object
      required:
      - address
      - address_lookup_table
      - max_leverage
      - max_swap_slippage
      - protocol_fee
      - protocol_fee_on_collateral
      - liquidation_fee
      - liquidation_threshold
      - oracle_price_deviation_threshold
      - rebalance_protocol_fee
      - borrowed_funds_a
      - borrowed_funds_b
      - borrow_limit_a
      - borrow_limit_b
      - max_spot_position_size_a
      - max_spot_position_size_b
      - pool
      - disabled
      - created_at
      properties:
        address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        address_lookup_table:
          type: string
          format: pubkey
          description: Solana public key (base58)
        borrow_limit_a:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        borrow_limit_b:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        borrowed_funds_a:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        borrowed_funds_b:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        created_at:
          type: string
          format: date-time
        disabled:
          type: boolean
        liquidation_fee:
          type: integer
          format: int32
          minimum: 0
        liquidation_threshold:
          type: integer
          format: int32
          minimum: 0
        max_leverage:
          type: integer
          format: int32
          minimum: 0
        max_spot_position_size_a:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        max_spot_position_size_b:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        max_swap_slippage:
          type: integer
          format: int32
          minimum: 0
        oracle_price_deviation_threshold:
          type: integer
          format: int32
          minimum: 0
        pool:
          $ref: '#/components/schemas/PoolDto'
        protocol_fee:
          type: integer
          format: int32
          minimum: 0
        protocol_fee_on_collateral:
          type: integer
          format: int32
          minimum: 0
        rebalance_protocol_fee:
          type: integer
          format: int32
          minimum: 0
    MintDto:
      type: object
      required:
      - address
      - symbol
      - name
      - logo
      - decimals
      properties:
        address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        decimals:
          type: integer
          format: int32
        logo:
          type: string
        name:
          type: string
        symbol:
          type: string
    NotificationAction:
      type: string
      enum:
      - create
      - update
    NotificationDto_LendingPositionDto:
      type: object
      required:
      - entity
      - action
      - id
      - data
      properties:
        action:
          $ref: '#/components/schemas/NotificationAction'
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        data:
          type: object
          required:
          - address
          - authority
          - shares
          - funds
          - earned
          - mint
          - vault
          - updated_at_slot
          properties:
            address:
              type: string
              format: pubkey
              description: Solana public key (base58)
            authority:
              type: string
              format: pubkey
              description: Solana public key (base58)
            earned:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            funds:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            mint:
              type: string
              format: pubkey
              description: Solana public key (base58)
            shares:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            updated_at_slot:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            vault:
              type: string
              format: pubkey
              description: Solana public key (base58)
        entity:
          $ref: '#/components/schemas/NotificationEntity'
        id:
          type: string
    NotificationDto_OrderHistoryEntryDto:
      type: object
      required:
      - entity
      - action
      - id
      - data
      properties:
        action:
          $ref: '#/components/schemas/NotificationAction'
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        data:
          type: object
          required:
          - id
          - ts
          - slot
          - pool
          - authority
          - order_type
          - is_reduce_only
          - a_to_b
          - ui_direction
          - status
          - base_token
          - quote_token
          properties:
            a_to_b:
              type: boolean
              description: |-
                Mints (Tokens) Pair direction in pool
                When TRUE  - Base token is Mint A, Quote token is Mint B
                WHEN FALSE - Base token is Mint B, Quote token is MInt A
            authority:
              type: string
              format: pubkey
              description: Solana public key (base58)
            base_token:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            base_token_consumed_amount:
              oneOf:
              - type: 'null'
              - $ref: '#/components/schemas/TokenAmountWithUsd'
                description: Filled only for limit orders (consumed_amount_in)
            id:
              type: string
              format: uuid
            is_reduce_only:
              type: boolean
            ix_index:
              type:
              - integer
              - 'null'
              format: int32
              description: |-
                Filled for swaps (spot)
                Flatten transaction instruction index
            order_type:
              $ref: '#/components/schemas/OrderHistoryType'
            pool:
              $ref: '#/components/schemas/PoolDto'
            position_address:
              type: string
              format: pubkey
              description: Solana public key (base58)
            quote_token:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            quote_token_filled_amount:
              oneOf:
              - type: 'null'
              - $ref: '#/components/schemas/TokenAmountWithUsd'
                description: Filled only for limit orders (filled_amount_out)
            slot:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            status:
              $ref: '#/components/schemas/OrderHistoryStatus'
            ts:
              type: string
              format: date-time
              description: Block time of slot this entry was create from
            tx_signature:
              type:
              - string
              - 'null'
              description: Filled for swaps (spot) and margin positions
            ui_direction:
              $ref: '#/components/schemas/OrderHistoryUIDirection'
            ui_execution_price:
              type:
              - number
              - 'null'
              format: double
              description: |-
                A decimal price based on the action.
                For market (swaps + margin) orders, displays average execution price for the order excluding the fee
            ui_price:
              type:
              - number
              - 'null'
              format: double
              description: |-
                A decimal price based on the action.
                Only for limit orders & trigger actions.

                * For limit order fills - price derived from order tick_index
                * For take profit / stop loss / liquidation - trigger price
        entity:
          $ref: '#/components/schemas/NotificationEntity'
        id:
          type: string
    NotificationDto_PoolSwapDto:
      type: object
      required:
      - entity
      - action
      - id
      - data
      properties:
        action:
          $ref: '#/components/schemas/NotificationAction'
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        data:
          type: object
          required:
          - id
          - amount_in
          - amount_out
          - amount_usd
          - a_to_b
          - pool
          - time
          - tx_signature
          properties:
            a_to_b:
              type: boolean
            amount_in:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            amount_out:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            amount_usd:
              type: number
              format: double
            id:
              type: string
            pool:
              type: string
              format: pubkey
              description: Solana public key (base58)
            time:
              type: string
              format: date-time
            tx_signature:
              type: string
        entity:
          $ref: '#/components/schemas/NotificationEntity'
        id:
          type: string
    NotificationDto_StakingPositionDto:
      type: object
      required:
      - entity
      - action
      - id
      - data
      properties:
        action:
          $ref: '#/components/schemas/NotificationAction'
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        data:
          type: object
          required:
          - address
          - owner
          - staked
          - unclaimed_reward
          - claimed_reward
          - unstaked
          - vesting
          properties:
            address:
              type: string
              format: pubkey
              description: Solana public key (base58)
            claimed_reward:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            last_unstaked_at:
              type:
              - string
              - 'null'
              format: date-time
            owner:
              type: string
              format: pubkey
              description: Solana public key (base58)
            rank:
              type:
              - integer
              - 'null'
              format: int32
              minimum: 0
            staked:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            unclaimed_reward:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            unstaked:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            vesting:
              $ref: '#/components/schemas/VestingDto'
            withdraw_available_at:
              type:
              - string
              - 'null'
              format: date-time
        entity:
          $ref: '#/components/schemas/NotificationEntity'
        id:
          type: string
    NotificationDto_TradeHistoryEntryDto:
      type: object
      required:
      - entity
      - action
      - id
      - data
      properties:
        action:
          $ref: '#/components/schemas/NotificationAction'
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        data:
          type: object
          required:
          - id
          - ts
          - slot
          - pool
          - authority
          - a_to_b
          - action
          - ui_direction
          - ui_price
          - base_token
          - quote_token
          - fee
          properties:
            a_to_b:
              type: boolean
              description: |-
                Mints (Tokens) Pair direction in pool
                When TRUE  - Base token is Mint A, Quote token is Mint B
                WHEN FALSE - Base token is Mint B, Quote token is MInt A
            action:
              $ref: '#/components/schemas/TradeHistoryAction'
            authority:
              type: string
              format: pubkey
              description: Solana public key (base58)
            base_token:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            fee:
              $ref: '#/components/schemas/FeeAmountWithUsd'
              description: |-
                Positive for taker trades (swaps + spot) and negative for maker trades (limit orders)
                Measured in quote tokens for limit orders
            id:
              type: string
              format: uuid
            ix_index:
              type:
              - integer
              - 'null'
              format: int32
              description: |-
                Filled for swaps (spot)
                Flatten transaction instruction index
            pnl:
              oneOf:
              - type: 'null'
              - $ref: '#/components/schemas/TradeHistoryEntryPnlUsd'
                description: |-
                  Only for margin positions,
                  will be calculated based on the price of collateral when opening a position
                  and the position value on decrease/close.
            pool:
              $ref: '#/components/schemas/PoolDto'
            position_address:
              type: string
              format: pubkey
              description: Solana public key (base58)
            quote_token:
              $ref: '#/components/schemas/TokenAmountWithUsd'
            slot:
              type: string
              format: uint64
              description: Unsigned 64-bit integer encoded as a decimal string
            ts:
              type: string
              format: date-time
            tx_signature:
              type:
              - string
              - 'null'
              description: Filled for swaps (spot) and margin positions
            ui_direction:
              $ref: '#/components/schemas/TradeHistoryUIDirection'
            ui_price:
              type: number
              format: double
              description: |-
                A decimal price based on the action.

                * For spot and margin positions - average execution price excluding the fee.
                * For limit order fills - price derived from order tick_index.
        entity:
          $ref: '#/components/schemas/NotificationEntity'
        id:
          type: string
    NotificationEntity:
      type: string
      enum:
      - initial_message
      - pool_swap
      - order_book
      - oracle_price
      - market
      - tuna_position
      - tuna_spot_position
      - staking_position
      - lending_position
      - fusion_limit_order
      - trade_history_entry
      - order_history_entry
      - state_snapshot
    OraclePriceDto:
      type: object
      required:
      - mint
      - price
      - time
      - decimals
      properties:
        decimals:
          type: integer
          format: int32
        mint:
          type: string
          format: pubkey
          description: Solana public key (base58)
        price:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        time:
          type: string
          format: date-time
    OrderBookDto:
      type: object
      required:
      - pool_address
      - entries
      - pool_price
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/OrderBookEntryDto'
        pool_address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        pool_price:
          type: number
          format: double
    OrderBookEntryDto:
      type: object
      required:
      - concentrated_amount
      - concentrated_amount_quote
      - concentrated_total
      - concentrated_total_quote
      - limit_amount
      - limit_amount_quote
      - limit_total
      - limit_total_quote
      - price
      - ask_side
      properties:
        ask_side:
          type: boolean
        concentrated_amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        concentrated_amount_quote:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        concentrated_total:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        concentrated_total_quote:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        limit_amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        limit_amount_quote:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        limit_total:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        limit_total_quote:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        price:
          type: number
          format: double
    OrderBookWrapper:
      allOf:
      - $ref: '#/components/schemas/OrderBookDto'
    OrderHistoryEntryDto:
      type: object
      required:
      - id
      - ts
      - slot
      - pool
      - authority
      - order_type
      - is_reduce_only
      - a_to_b
      - ui_direction
      - status
      - base_token
      - quote_token
      properties:
        a_to_b:
          type: boolean
          description: |-
            Mints (Tokens) Pair direction in pool
            When TRUE  - Base token is Mint A, Quote token is Mint B
            WHEN FALSE - Base token is Mint B, Quote token is MInt A
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        base_token:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        base_token_consumed_amount:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TokenAmountWithUsd'
            description: Filled only for limit orders (consumed_amount_in)
        id:
          type: string
          format: uuid
        is_reduce_only:
          type: boolean
        ix_index:
          type:
          - integer
          - 'null'
          format: int32
          description: |-
            Filled for swaps (spot)
            Flatten transaction instruction index
        order_type:
          $ref: '#/components/schemas/OrderHistoryType'
        pool:
          $ref: '#/components/schemas/PoolDto'
        position_address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        quote_token:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        quote_token_filled_amount:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TokenAmountWithUsd'
            description: Filled only for limit orders (filled_amount_out)
        slot:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        status:
          $ref: '#/components/schemas/OrderHistoryStatus'
        ts:
          type: string
          format: date-time
          description: Block time of slot this entry was create from
        tx_signature:
          type:
          - string
          - 'null'
          description: Filled for swaps (spot) and margin positions
        ui_direction:
          $ref: '#/components/schemas/OrderHistoryUIDirection'
        ui_execution_price:
          type:
          - number
          - 'null'
          format: double
          description: |-
            A decimal price based on the action.
            For market (swaps + margin) orders, displays average execution price for the order excluding the fee
        ui_price:
          type:
          - number
          - 'null'
          format: double
          description: |-
            A decimal price based on the action.
            Only for limit orders & trigger actions.

            * For limit order fills - price derived from order tick_index
            * For take profit / stop loss / liquidation - trigger price
    OrderHistoryStatus:
      type: string
      description: |-
        Swaps && Spot Positions (Margin) can be only only in these statuses:
         * filled when is_tx_failed = FALSE
         * rejected when is_tx_failed = TRUE
      enum:
      - open
      - partially_filled
      - filled
      - cancelled
      - claimed
      - rejected
    OrderHistoryType:
      type: string
      enum:
      - market
      - limit
      - take_profit_market
      - stop_loss_market
      - liquidation_market
    OrderHistoryUIDirection:
      type: string
      enum:
      - buy
      - sell
      - long
      - short
    PaginationMeta:
      type: object
      required:
      - total
      properties:
        total:
          type: integer
          format: int64
    PoolDto:
      type: object
      required:
      - address
      - provider
      - mint_a
      - mint_b
      - token_a_vault
      - token_b_vault
      - tick_spacing
      - fee_rate
      - protocol_fee_rate
      - liquidity
      - sqrt_price
      - price
      - tick_current_index
      properties:
        address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        fee_rate:
          type: integer
          format: int32
          minimum: 0
        liquidity:
          type: string
          format: uint128
          description: Unsigned 128-bit integer encoded as a decimal string
        mint_a:
          $ref: '#/components/schemas/MintDto'
        mint_b:
          $ref: '#/components/schemas/MintDto'
        olp_fee_rate:
          type:
          - integer
          - 'null'
          format: int32
        price:
          type: number
          format: double
        protocol_fee_rate:
          type: integer
          format: int32
          minimum: 0
        provider:
          $ref: '#/components/schemas/PoolProvider'
        sqrt_price:
          type: string
          format: uint128
          description: Unsigned 128-bit integer encoded as a decimal string
        stats:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/PoolStatsDto'
        tick_current_index:
          type: integer
          format: int32
        tick_spacing:
          type: integer
          format: int32
          minimum: 0
        token_a_vault:
          type: string
          format: pubkey
          description: Solana public key (base58)
        token_b_vault:
          type: string
          format: pubkey
          description: Solana public key (base58)
    PoolPriceCandleDto:
      type: object
      required:
      - time
      - high
      - low
      - open
      - close
      - volume
      properties:
        close:
          type: number
          format: double
        high:
          type: number
          format: double
        low:
          type: number
          format: double
        open:
          type: number
          format: double
        time:
          type: integer
          format: int32
        volume:
          type: number
          format: double
    PoolProvider:
      type: string
      enum:
      - orca
      - fusion
    PoolStatsDto:
      type: object
      required:
      - tvl_usd
      - groups
      properties:
        groups:
          $ref: '#/components/schemas/HashMap'
        tvl_usd:
          type: number
          format: double
    PoolSubscription:
      type: object
      required:
      - address
      - topics
      properties:
        address:
          type: string
        is_inverted:
          type:
          - boolean
          - 'null'
        order_book_price_step:
          type:
          - number
          - 'null'
          format: double
        topics:
          type: array
          items:
            $ref: '#/components/schemas/PoolSubscriptionTopic'
    PoolSubscriptionTopic:
      type: string
      enum:
      - pool_swaps
      - order_book
      - pool_prices
    PoolSwapDto:
      type: object
      required:
      - id
      - amount_in
      - amount_out
      - amount_usd
      - a_to_b
      - pool
      - time
      - tx_signature
      properties:
        a_to_b:
          type: boolean
        amount_in:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        amount_out:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        amount_usd:
          type: number
          format: double
        id:
          type: string
        pool:
          type: string
          format: pubkey
          description: Solana public key (base58)
        time:
          type: string
          format: date-time
        tx_signature:
          type: string
    PoolTicksDto:
      type: object
      required:
      - tick_spacing
      - ticks
      properties:
        tick_spacing:
          type: integer
          format: int32
          minimum: 0
        ticks:
          type: array
          items:
            $ref: '#/components/schemas/TickDto'
    PubkeyDto:
      type: string
      format: pubkey
      description: |-
        Pubkey represented as base58 string in JSON and OpenAPI.

        - JSON: `"11111111111111111111111111111111"`
        - OpenAPI: `type: string`, pattern for base58, optional format
      example: '11111111111111111111111111111111'
      pattern: ^[1-9A-HJ-NP-Za-km-z]+$
    Snapshot:
      type: object
      required:
      - slot
      - block_time
      properties:
        block_time:
          type: string
          format: date-time
        fusion_limit_orders:
          type:
          - array
          - 'null'
          items:
            $ref: '#/components/schemas/LimitOrderDto'
        markets:
          type:
          - array
          - 'null'
          items:
            $ref: '#/components/schemas/MarketDto'
        oracle_prices:
          type:
          - object
          - 'null'
          additionalProperties:
            type: string
          propertyNames:
            type: string
        order_books:
          type:
          - array
          - 'null'
          items:
            $ref: '#/components/schemas/OrderBookWrapper'
        slot:
          type: integer
          format: int64
          minimum: 0
        tuna_lp_positions:
          type:
          - array
          - 'null'
          items:
            $ref: '#/components/schemas/TunaPositionDto'
        tuna_spot_positions:
          type:
          - array
          - 'null'
          items:
            $ref: '#/components/schemas/TunaSpotPositionDto'
    SnapshotContainer:
      type: object
      required:
      - entity
      - action
      - id
      - data
      properties:
        action:
          type: string
        data:
          $ref: '#/components/schemas/Snapshot'
        entity:
          type: string
        id:
          type: string
    SseResponse:
      oneOf:
      - $ref: '#/components/schemas/StreamInitalMessage'
      - $ref: '#/components/schemas/NotificationDto_PoolSwapDto'
      - $ref: '#/components/schemas/NotificationDto_StakingPositionDto'
      - $ref: '#/components/schemas/NotificationDto_LendingPositionDto'
      - $ref: '#/components/schemas/NotificationDto_TradeHistoryEntryDto'
      - $ref: '#/components/schemas/NotificationDto_OrderHistoryEntryDto'
      - $ref: '#/components/schemas/SnapshotContainer'
      discriminator:
        propertyName: entity
    StakingDepositsStatsDto:
      type: object
      required:
      - time
      - total_deposits_usd
      - total_deposits_sol
      - running_total_deposits_usd
      - running_total_deposits_sol
      properties:
        running_total_deposits_sol:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        running_total_deposits_usd:
          type: number
          format: double
        time:
          type: string
          format: date-time
        total_deposits_sol:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        total_deposits_usd:
          type: number
          format: double
    StakingLeaderboardPositionDto:
      type: object
      required:
      - rank
      - address
      - owner
      - staked
      properties:
        address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        owner:
          type: string
          format: pubkey
          description: Solana public key (base58)
        rank:
          type: integer
          format: int32
          minimum: 0
        staked:
          $ref: '#/components/schemas/TokenAmountWithUsd'
    StakingPositionActionDto:
      type: object
      required:
      - position
      - action
      - amount
      - time
      - tx_signature
      properties:
        action:
          $ref: '#/components/schemas/StakingPositionActionType'
        amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        position:
          type: string
          format: pubkey
          description: Solana public key (base58)
        time:
          type: string
          format: date-time
        tx_signature:
          type: string
    StakingPositionActionType:
      type: string
      enum:
      - stake
      - unstake
      - withdraw
      - claim_rewards
      - compound_rewards
    StakingPositionDto:
      type: object
      required:
      - address
      - owner
      - staked
      - unclaimed_reward
      - claimed_reward
      - unstaked
      - vesting
      properties:
        address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        claimed_reward:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        last_unstaked_at:
          type:
          - string
          - 'null'
          format: date-time
        owner:
          type: string
          format: pubkey
          description: Solana public key (base58)
        rank:
          type:
          - integer
          - 'null'
          format: int32
          minimum: 0
        staked:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        unclaimed_reward:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        unstaked:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        vesting:
          $ref: '#/components/schemas/VestingDto'
        withdraw_available_at:
          type:
          - string
          - 'null'
          format: date-time
    StreamInitalMessage:
      type: object
      description: First message sent to the client containing stream id for subscription updates
      required:
      - entity
      - stream_id
      properties:
        entity:
          $ref: '#/components/schemas/NotificationEntity'
        stream_id:
          type: string
          format: uuid
    SubscriptionOptions:
      type: object
      properties:
        markets:
          type:
          - array
          - 'null'
          items:
            type: string
        mints:
          type:
          - array
          - 'null'
          items:
            type: string
        pools:
          type:
          - array
          - 'null'
          items:
            $ref: '#/components/schemas/PoolSubscription'
        wallet:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/WalletSubscription'
    SwapQuoteByInputDto:
      type: object
      required:
      - estimated_amount_out
      - min_amount_out
      - fee_amount
      - fee_usd
      - price_impact
      properties:
        estimated_amount_out:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        fee_amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        fee_usd:
          type: number
          format: double
        min_amount_out:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        price_impact:
          type: number
          format: double
          description: Price impact in percents
    SwapQuoteByOutputDto:
      type: object
      required:
      - estimated_amount_in
      - max_amount_in
      - fee_amount
      - fee_usd
      - price_impact
      properties:
        estimated_amount_in:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        fee_amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        fee_usd:
          type: number
          format: double
        max_amount_in:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        price_impact:
          type: number
          format: double
          description: Price impact in percents
    TickDto:
      type: object
      required:
      - index
      - liquidity
      properties:
        index:
          type: integer
          format: int32
        liquidity:
          type: string
          format: int128
          description: Signed 128-bit integer encoded as a decimal string
    TokenAmountWithUsd:
      type: object
      required:
      - amount
      - usd
      properties:
        amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        usd:
          type: number
          format: double
    TradableAmountDto:
      type: object
      required:
      - amount
      - usd
      properties:
        amount:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        usd:
          type: number
          format: double
    TradeHistoryAction:
      type: string
      enum:
      - swap
      - limit_order_fill
      - position_increase
      - position_decrease
      - take_profit
      - stop_loss
      - liquidation
    TradeHistoryEntryDto:
      type: object
      required:
      - id
      - ts
      - slot
      - pool
      - authority
      - a_to_b
      - action
      - ui_direction
      - ui_price
      - base_token
      - quote_token
      - fee
      properties:
        a_to_b:
          type: boolean
          description: |-
            Mints (Tokens) Pair direction in pool
            When TRUE  - Base token is Mint A, Quote token is Mint B
            WHEN FALSE - Base token is Mint B, Quote token is MInt A
        action:
          $ref: '#/components/schemas/TradeHistoryAction'
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        base_token:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        fee:
          $ref: '#/components/schemas/FeeAmountWithUsd'
          description: |-
            Positive for taker trades (swaps + spot) and negative for maker trades (limit orders)
            Measured in quote tokens for limit orders
        id:
          type: string
          format: uuid
        ix_index:
          type:
          - integer
          - 'null'
          format: int32
          description: |-
            Filled for swaps (spot)
            Flatten transaction instruction index
        pnl:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TradeHistoryEntryPnlUsd'
            description: |-
              Only for margin positions,
              will be calculated based on the price of collateral when opening a position
              and the position value on decrease/close.
        pool:
          $ref: '#/components/schemas/PoolDto'
        position_address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        quote_token:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        slot:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        ts:
          type: string
          format: date-time
        tx_signature:
          type:
          - string
          - 'null'
          description: Filled for swaps (spot) and margin positions
        ui_direction:
          $ref: '#/components/schemas/TradeHistoryUIDirection'
        ui_price:
          type: number
          format: double
          description: |-
            A decimal price based on the action.

            * For spot and margin positions - average execution price excluding the fee.
            * For limit order fills - price derived from order tick_index.
    TradeHistoryEntryPnlUsd:
      type: object
      required:
      - usd
      - bps
      properties:
        bps:
          type: integer
          format: int32
        usd:
          type: number
          format: double
    TradeHistoryUIDirection:
      type: string
      enum:
      - buy
      - sell
      - open_long
      - close_long
      - open_short
      - close_short
    TreasuryDto:
      type: object
      required:
      - address
      - staked_token_mint
      - reward_token_mint
      - apy
      - unique_stakers
      - total_staked
      - total_reward
      - unstake_cooldown_seconds
      - is_staking_enabled
      - is_unstaking_enabled
      - is_withdraw_enabled
      properties:
        address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        apy:
          type: number
          format: double
        is_staking_enabled:
          type: boolean
        is_unstaking_enabled:
          type: boolean
        is_withdraw_enabled:
          type: boolean
        reward_token_mint:
          type: string
          format: pubkey
          description: Solana public key (base58)
        staked_token_mint:
          type: string
          format: pubkey
          description: Solana public key (base58)
        total_reward:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        total_staked:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        unique_stakers:
          type: integer
          format: int32
          minimum: 0
        unstake_cooldown_seconds:
          type: integer
          format: int32
          description: The minimum required interval in seconds between the last staking and a possible withdrawal.
          minimum: 0
    TunaLpPositionActionComposite:
      type: object
      properties:
        closed_pnl_usd:
          type:
          - number
          - 'null'
          format: double
        collected_fees:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionTransfer'
        from_lending:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionTransfer'
        from_owner:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionTransfer'
        from_parameters:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionParameters'
        from_position:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionValue'
        parameters:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionParameters'
        position:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionValue'
        prices:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionTokenPrices'
        protocol_fees:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionTransfer'
        to_lending:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionTransfer'
        to_owner:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionTransfer'
        to_parameters:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionParameters'
        to_position:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionValue'
        withdraw_percent:
          type:
          - number
          - 'null'
          format: double
    TunaLpPositionActionDto:
      type: object
      required:
      - action
      - tx_signature
      - tx_timestamp
      - data
      properties:
        action:
          $ref: '#/components/schemas/TunaLpPositionsActionType'
        data:
          $ref: '#/components/schemas/TunaLpPositionActionComposite'
        tx_signature:
          type: string
        tx_timestamp:
          type: string
          format: date-time
    TunaLpPositionAutoCompound:
      type: string
      enum:
      - no_auto_compound
      - auto_compound
      - auto_compound_with_leverage
    TunaLpPositionAutoCompounding:
      type: string
      enum:
      - with_leverage
      - without_leverage
    TunaLpPositionDto:
      type: object
      required:
      - position_address
      - authority
      - pool
      - state
      - lower_price
      - upper_price
      - market_maker
      - opened_at
      - updated_at
      - total_value_usd
      - leverage
      - initial_leverage
      - total_deposit_usd
      - total_withdrawn_usd
      - fees_sum_usd
      - closed_pnl_sum_usd
      - entry_price
      properties:
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        closed_at:
          type:
          - string
          - 'null'
          format: date-time
        closed_pnl_sum_usd:
          type: number
          format: double
        entry_price:
          type: number
          format: double
        exit_price:
          type:
          - number
          - 'null'
          format: double
        fees_sum_usd:
          type: number
          format: double
        initial_leverage:
          type: number
          format: double
        leverage:
          type: number
          format: double
        lower_limit_order:
          type:
          - number
          - 'null'
          format: double
        lower_price:
          type: number
          format: double
        market_maker:
          $ref: '#/components/schemas/PoolProvider'
        opened_at:
          type: string
          format: date-time
        pool:
          $ref: '#/components/schemas/PoolDto'
        position_address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        state:
          $ref: '#/components/schemas/TunaPositionDtoState'
        total_deposit_usd:
          type: number
          format: double
        total_value_usd:
          type: number
          format: double
        total_withdrawn_usd:
          type: number
          format: double
        updated_at:
          type: string
          format: date-time
        upper_limit_order:
          type:
          - number
          - 'null'
          format: double
        upper_price:
          type: number
          format: double
    TunaLpPositionFlags:
      type: object
      required:
      - auto_rebalancing
      properties:
        auto_compounding:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaLpPositionAutoCompounding'
        auto_rebalancing:
          type: boolean
        lower_limit_order_swap_to_token:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaPositionPoolToken'
        upper_limit_order_swap_to_token:
          oneOf:
          - type: 'null'
          - $ref: '#/components/schemas/TunaPositionPoolToken'
    TunaLpPositionLimitOrderSwap:
      type: string
      enum:
      - no_swap
      - swap_to_token_a
      - swap_to_token_b
    TunaLpPositionParameters:
      type: object
      required:
      - lower_price
      - upper_price
      - lower_limit_order_swap
      - upper_limit_order_swap
      - auto_compound
      - rebalance
      - rebalance_threshold_ticks
      properties:
        auto_compound:
          $ref: '#/components/schemas/TunaLpPositionAutoCompound'
        lower_limit_order:
          type:
          - number
          - 'null'
          format: double
        lower_limit_order_swap:
          $ref: '#/components/schemas/TunaLpPositionLimitOrderSwap'
        lower_price:
          type: number
          format: double
        rebalance:
          $ref: '#/components/schemas/TunaLpPositionRebalance'
        rebalance_threshold_ticks:
          type: integer
          format: int32
          minimum: 0
        upper_limit_order:
          type:
          - number
          - 'null'
          format: double
        upper_limit_order_swap:
          $ref: '#/components/schemas/TunaLpPositionLimitOrderSwap'
        upper_price:
          type: number
          format: double
    TunaLpPositionRebalance:
      type: string
      enum:
      - no_rebalance
      - auto_rebalance
    TunaLpPositionTokenPrices:
      type: object
      required:
      - token_price_a
      - token_price_b
      properties:
        token_price_a:
          type: number
          format: double
        token_price_b:
          type: number
          format: double
    TunaLpPositionTransfer:
      type: object
      required:
      - amount_a
      - amount_b
      - amount_usd
      properties:
        amount_a:
          type: number
          format: double
        amount_b:
          type: number
          format: double
        amount_usd:
          type: number
          format: double
    TunaLpPositionValue:
      type: object
      required:
      - total_value_a
      - total_value_b
      - total_value_usd
      - loan_funds_a
      - loan_funds_b
      - loan_funds_usd
      - leverage
      properties:
        leverage:
          type: number
          format: double
        loan_funds_a:
          type: number
          format: double
        loan_funds_b:
          type: number
          format: double
        loan_funds_usd:
          type: number
          format: double
        total_value_a:
          type: number
          format: double
        total_value_b:
          type: number
          format: double
        total_value_usd:
          type: number
          format: double
    TunaLpPositionsActionType:
      type: string
      enum:
      - open_position
      - close_position
      - increase_liquidity
      - decrease_liquidity
      - repay_debt
      - liquidate
      - execute_limit_order
      - collect_fees
      - collect_rewards
      - collect_and_compound_fees
      - rebalance_position
      - set_limit_orders
      - set_flags
      - set_rebalance_threshold
    TunaLpPositionsStats:
      type: object
      required:
      - time
      - total_count
      - over_1k_count
      - over_10k_count
      - fusion_total_value_usd
      - orca_total_value_usd
      - fusion_debt_usd
      - orca_debt_usd
      properties:
        fusion_closed_by_limit_order_count:
          type:
          - integer
          - 'null'
          format: int32
        fusion_debt_usd:
          type: number
          format: double
        fusion_liquidated_count:
          type:
          - integer
          - 'null'
          format: int32
        fusion_open_count:
          type:
          - integer
          - 'null'
          format: int32
        fusion_total_value_usd:
          type: number
          format: double
        orca_closed_by_limit_order_count:
          type:
          - integer
          - 'null'
          format: int32
        orca_debt_usd:
          type: number
          format: double
        orca_liquidated_count:
          type:
          - integer
          - 'null'
          format: int32
        orca_open_count:
          type:
          - integer
          - 'null'
          format: int32
        orca_total_value_usd:
          type: number
          format: double
        over_10k_count:
          type: integer
          format: int32
          description: Count of positions over 10000$
        over_1k_count:
          type: integer
          format: int32
          description: Count of positions over 1000$
        time:
          type: string
          format: date-time
        total_count:
          type: integer
          format: int32
          description: Total positions count
    TunaPositionDto:
      type: object
      required:
      - address
      - authority
      - version
      - state
      - position_mint
      - liquidity
      - tick_lower_index
      - tick_upper_index
      - lower_limit_order_price
      - upper_limit_order_price
      - entry_price
      - flags
      - pool
      - market_maker
      - deposited_collateral_a
      - deposited_collateral_b
      - leverage
      - max_leverage
      - liquidation_price_lower
      - liquidation_price_upper
      - initial_debt_a
      - initial_debt_b
      - current_debt_a
      - current_debt_b
      - leftovers_a
      - leftovers_b
      - yield_a
      - yield_b
      - compounded_yield_a
      - compounded_yield_b
      - total_a
      - total_b
      - pnl_a
      - pnl_b
      - pnl_usd
      - opened_at
      properties:
        address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        closed_at:
          type:
          - string
          - 'null'
          format: date-time
        compounded_yield_a:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        compounded_yield_b:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        current_debt_a:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        current_debt_b:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        deposited_collateral_a:
          $ref: '#/components/schemas/TunaPositionTokenDepositedCollateral'
        deposited_collateral_b:
          $ref: '#/components/schemas/TunaPositionTokenDepositedCollateral'
        entry_price:
          type: number
          format: double
        flags:
          $ref: '#/components/schemas/TunaLpPositionFlags'
        initial_debt_a:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        initial_debt_b:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        leftovers_a:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        leftovers_b:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        leverage:
          type: number
          format: double
        liquidation_price_lower:
          type: number
          format: double
        liquidation_price_upper:
          type: number
          format: double
        liquidity:
          type: string
          format: uint128
          description: Unsigned 128-bit integer encoded as a decimal string
        lower_limit_order_price:
          type: number
          format: double
        market_maker:
          $ref: '#/components/schemas/TunaPositionMarketMaker'
        max_leverage:
          type: number
          format: double
        opened_at:
          type: string
          format: date-time
        pnl_a:
          $ref: '#/components/schemas/TunaPositionTokenPnl'
          description: Total PnL denominated/expressed in token A
        pnl_b:
          $ref: '#/components/schemas/TunaPositionTokenPnl'
          description: Total PnL denominated/expressed in token B
        pnl_usd:
          $ref: '#/components/schemas/TunaPositionUsdPnl'
        pool:
          $ref: '#/components/schemas/PoolDto'
        position_mint:
          type: string
          format: pubkey
          description: Solana public key (base58)
        state:
          $ref: '#/components/schemas/TunaPositionDtoState'
        tick_lower_index:
          type: integer
          format: int32
        tick_upper_index:
          type: integer
          format: int32
        total_a:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        total_b:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        upper_limit_order_price:
          type: number
          format: double
        version:
          type: integer
          format: int32
          minimum: 0
        yield_a:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        yield_b:
          $ref: '#/components/schemas/TokenAmountWithUsd'
    TunaPositionDtoState:
      type: string
      enum:
      - open
      - liquidated
      - closed_by_limit_order
      - closed
    TunaPositionMarketMaker:
      type: string
      enum:
      - fusion
      - orca
    TunaPositionPoolToken:
      type: string
      enum:
      - a
      - b
    TunaPositionTokenDepositedCollateral:
      type: object
      required:
      - amount
      - usd
      properties:
        amount:
          type: string
          format: int128
          description: Signed 128-bit integer encoded as a decimal string
        usd:
          type: number
          format: double
    TunaPositionTokenPnl:
      type: object
      required:
      - amount
      - rate
      properties:
        amount:
          type: string
          format: int128
          description: Signed 128-bit integer encoded as a decimal string
        rate:
          type: number
          format: double
    TunaPositionUsdPnl:
      type: object
      required:
      - amount
      - rate
      properties:
        amount:
          type: number
          format: double
        rate:
          type: number
          format: double
    TunaSpotPositionDto:
      type: object
      required:
      - address
      - authority
      - version
      - state
      - lower_limit_order_price
      - upper_limit_order_price
      - entry_price
      - pool
      - position_token
      - collateral_token
      - market_maker
      - deposited_collateral
      - initial_debt
      - current_debt
      - total
      - leverage
      - max_leverage
      - liquidation_price
      - pnl_usd
      - opened_at
      properties:
        address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        authority:
          type: string
          format: pubkey
          description: Solana public key (base58)
        closed_at:
          type:
          - string
          - 'null'
          format: date-time
        collateral_token:
          $ref: '#/components/schemas/TunaPositionPoolToken'
        current_debt:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        deposited_collateral:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        entry_price:
          type: number
          format: double
        initial_debt:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        leverage:
          type: number
          format: double
        liquidation_price:
          type: number
          format: double
        lower_limit_order_price:
          type: number
          format: double
        market_maker:
          $ref: '#/components/schemas/TunaPositionMarketMaker'
        max_leverage:
          type: number
          format: double
        opened_at:
          type: string
          format: date-time
        pnl_usd:
          $ref: '#/components/schemas/TunaPositionUsdPnl'
        pool:
          $ref: '#/components/schemas/PoolDto'
        position_token:
          $ref: '#/components/schemas/TunaPositionPoolToken'
        state:
          $ref: '#/components/schemas/TunaSpotPositionDtoState'
        total:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        upper_limit_order_price:
          type: number
          format: double
        version:
          type: integer
          format: int32
          minimum: 0
    TunaSpotPositionDtoState:
      type: string
      enum:
      - open
      - closed
    ValidationErrorCodeErrorBody:
      type: object
      required:
      - code
      properties:
        code:
          type: string
          enum:
          - validation_failed
        data:
          type: object
          required:
          - errors
          properties:
            errors:
              type: array
              items:
                $ref: '#/components/schemas/FieldError'
    ValidationErrorCodeValidationDetailsErrorBody:
      type: object
      required:
      - code
      properties:
        code:
          type: string
          enum:
          - validation_failed
        data:
          type: object
          required:
          - errors
          properties:
            errors:
              type: array
              items:
                $ref: '#/components/schemas/FieldError'
    VaultDto:
      type: object
      required:
      - address
      - mint
      - deposited_funds
      - borrowed_funds
      - supply_limit
      - borrowed_shares
      - deposited_shares
      - interest_rate
      - utilization
      - supply_apy
      - borrow_apy
      - pyth_oracle_feed_id
      - pyth_oracle_price_update
      properties:
        address:
          type: string
          format: pubkey
          description: Solana public key (base58)
        borrow_apy:
          type: number
          format: double
        borrowed_funds:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        borrowed_shares:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        deposited_funds:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        deposited_shares:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        interest_rate:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        mint:
          type: string
          format: pubkey
          description: Solana public key (base58)
        pyth_oracle_feed_id:
          type: string
          format: pubkey
          description: Solana public key (base58)
        pyth_oracle_price_update:
          type: string
          format: pubkey
          description: Solana public key (base58)
        supply_apy:
          type: number
          format: double
        supply_limit:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        utilization:
          type: number
          format: double
    VaultStatsDto:
      type: object
      required:
      - date
      - supply
      - borrow
      - supply_apy
      - borrow_apr
      properties:
        borrow:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        borrow_apr:
          type: number
          format: double
        date:
          type: string
          format: date
        supply:
          $ref: '#/components/schemas/TokenAmountWithUsd'
        supply_apy:
          type: number
          format: double
    VestingDto:
      type: object
      required:
      - locked
      - unlocked
      - unlock_rate
      - unlock_every_seconds
      - unlock_cliff_seconds
      properties:
        locked:
          $ref: '#/components/schemas/TokenAmountWithUsd'
          description: Amount of locked tokens remaining
        locked_at:
          type:
          - string
          - 'null'
          format: date-time
          description: The timestamp when the position has been locked
        unlock_cliff_seconds:
          type: integer
          format: int32
          description: The period in seconds after which the unlock starts. The first unlock occurs after 'locked_at (timestamp) + unlock_cliff_seconds + unlock_every_seconds'
          minimum: 0
        unlock_every_seconds:
          type: integer
          format: int32
          description: How often tokens are unlocked in seconds
          minimum: 0
        unlock_rate:
          type: string
          format: uint64
          description: Unsigned 64-bit integer encoded as a decimal string
        unlocked:
          $ref: '#/components/schemas/TokenAmountWithUsd'
          description: Amount of tokens unlocked since the beginning of lock
    WalletSubscription:
      type: object
      required:
      - address
      - topics
      properties:
        address:
          type: string
        topics:
          type: array
          items:
            $ref: '#/components/schemas/WalletSubscriptionTopic'
    WalletSubscriptionTopic:
      type: string
      enum:
      - tuna_positions
      - tuna_spot_positions
      - lending_positions
      - fusion_limit_orders
      - staking_position
      - trade_history
      - order_history
tags:
- name: SSE
  description: SSE stream
- name: LpPositions
  description: User LP positions
- name: SpotPositions
  description: User Spot positions
- name: LendingPositions
  description: User lending positions
- name: LimitOrders
  description: User limit orders
- name: OrderHistory
  description: User order history
- name: StakingPositions
  description: User staking positions
- name: TradeHistory
  description: User trade history
- name: Leaderboards
  description: Users and staking leaderboards
- name: Markets
  description: Market data
- name: Pools
  description: Pool data
- name: Vaults
  description: Vaults
- name: Mints
  description: Mint data
- name: OraclePrices
  description: Oracle prices
- name: Stats
  description: Stats
- name: Quotes
  description: Quote calculations
